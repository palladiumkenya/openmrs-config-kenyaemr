{
  "name": "HTS Initial Form",
  "description": "Form for HTS testing services",
  "version": "2.1",
  "published": true,
  "uuid": "402dc5d7-46da-42d4-b2be-f43ea4ad87b0",
  "retired": false,
  "encounter": "HTS",
  "pages": [
    
    {
      "label": "HTS Recordings",
      "sections": [
        {
          "label": "Encounter Details",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Visit date:",
              "type": "encounterDatetime",
              "required": "true",
              "id": "encDate",
              "questionOptions": {
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                }
              ]
            },
            {
              "label": "HTS Provider",
              "type": "encounterProvider",
              "required": "true",
              "questionOptions": {
                "rendering": "ui-select-extended"
              },
              "id": "encounterProvider"
            },
            {
              "label": "Facility name",
              "type": "encounterLocation",
              "required": "true",
              "questionOptions": {
                "rendering": "ui-select-extended"
              },
              "id": "encounterLocation"
            }
          ]
        },
        {
          "label": "Population Type",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Population Type :",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "cf543666-ce76-4e91-8b8d-c0b54a436a2e",
                "answers": [
                  {
                    "concept": "5d308c8c-ad49-45e1-9885-e5d09a8e5587",
                    "label": "General Population"
                  },
                  {
                    "concept": "bf850dd4-309b-4cbd-9470-9d8110ea5550",
                    "label": "Key and Vulnerable Population"
                  }
                ]
              },
              "id": "populationType",
              "required": "true",
              "hide": {
                "hideWhenExpression": "age < 15"
              }
            },
            {
              "label": "Population Type :",
              "type": "obs",
              "id": "populationTypechild",
              "required": "true",
              "questionOptions": {
                "rendering": "radio",
                "concept": "cf543666-ce76-4e91-8b8d-c0b54a436a2e",
                "answers": [
                  {
                    "concept": "5d308c8c-ad49-45e1-9885-e5d09a8e5587",
                    "label": "General Population"
                  }
                ]
              },
              "hide": {
                "hideWhenExpression": "age >= 15"
              }
            },
            {
              "label": "Key and Vulnerable Population Type :",
              "type": "obs",
              "id": "kpTypeFemale",
              "required": "true",
              "questionOptions": {
                "concept": "160581AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People who inject drugs"
                  },
                  {
                    "concept": "160666AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People who use drugs"
                  },
                  {
                    "concept": "160579AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Female sex Worker"
                  },
                  {
                    "concept": "160549AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Adolescent and young girls"
                  },
                  {
                    "concept": "162277AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People in prison"
                  },
                  {
                    "concept": "159674AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Fisher folk"
                  },
                  {
                    "concept": "162198AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Truck driver"
                  },
                  {
                    "concept": "6096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Discordant Couple"
                  }
                ]
              },
              "hide": {
                "hideWhenExpression": "populationType !== 'bf850dd4-309b-4cbd-9470-9d8110ea5550' || age < 15 || sex != 'F'"
              }
            },
            {
              "label": "Key and Vulnerable Population Type :",
              "type": "obs",
              "id": "kpTypeMale",
              "required": "true",
              "questionOptions": {
                "concept": "160581AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People who inject drugs"
                  },
                  {
                    "concept": "160666AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People who use drugs"
                  },
                  {
                    "concept": "973e5b6c-ae5e-4d6a-a624-2d259763771f",
                    "label": "Male Sex Worker"
                  },
                  {
                    "concept": "160578AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Men who have sex with men"
                  },
                  {
                    "concept": "162277AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "People in prison"
                  },
                  {
                    "concept": "159674AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Fisher folk"
                  },
                  {
                    "concept": "162198AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Truck driver"
                  },
                  {
                    "concept": "6096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Discordant Couple"
                  }
                ]
              },
              "hide": {
                "hideWhenExpression": "populationType !== 'bf850dd4-309b-4cbd-9470-9d8110ea5550' || age < 15 || sex != 'M'"
              }
            },
            {
              "label": "People in prison",
              "type": "obs",
              "id": "PPleInPrionF",
              "required": "true",
              "questionOptions": {
                "rendering": "radio",
                "concept": "c67be9a5-f497-4082-af81-11753f65ed4b",
                "answers": [
                  {
                    "label": "Inmates",
                    "concept": "2ad718de-8020-49e9-a129-a00b07752d4e"
                  },
                  {
                    "label": "Staff",
                    "concept": "1142AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                  },
                  {
                    "concept": "163488AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Community"
                  }
                ]
              },
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(kpTypeFemale) || kpTypeFemale !== '162277AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || age < 15 || sex !== 'F'"
              }
            },
            {
              "label": "People in prison",
              "type": "obs",
              "id": "PPleInPrionM",
              "required": "true",
              "questionOptions": {
                "rendering": "radio",
                "concept": "c67be9a5-f497-4082-af81-11753f65ed4b",
                "answers": [
                  {
                    "label": "Inmates",
                    "concept": "2ad718de-8020-49e9-a129-a00b07752d4e"
                  },
                  {
                    "label": "Staff",
                    "concept": "1142AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                  },
                  {
                    "concept": "163488AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Community"
                  }
                ]
              },
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(kpTypeMale) || kpTypeMale !== '162277AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || age < 15 || sex !== 'M'"
              }
            },
            {
              "label": "Does client have any disability?",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "162558AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes"
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No"
                  }
                ]
              },
              "id": "DisabilityClienT"
            },
            {
              "label": "Please indicate the type of disability :",
              "type": "obs",
              "questionOptions": {
                "rendering": "checkbox",
                "concept": "162558AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "120291AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Hearing impairment"
                  },
                  {
                    "concept": "147215AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Visual impairment"
                  },
                  {
                    "concept": "151342AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Mentally Challenged"
                  },
                  {
                    "concept": "164538AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Physically Challenged"
                  },
                  {
                    "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Others"
                  }
                ]
              },
              "id": "disaBilityTypes",
              "hide": {
                "hideWhenExpression": "isEmpty(DisabilityClienT) || DisabilityClienT != '1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Specify",
              "type": "obs",
              "questionOptions": {
                "rendering": "text",
                "concept": "160632AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "specifyOtherDisability",
              "hide": {
                "hideWhenExpression": "isEmpty(disaBilityTypes) || !arrayContins(['5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'], disaBilityTypes) "
              }
            }
          ]
        },
        {
          "label": "HIV Test History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "   Has the client ever been tested for HIV by a HTS provider?",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "conceptMappings": [
                  {
                    "type": "CIEL",
                    "value": "164401"
                  }
                ],
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1065"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1065"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1065"
                      },
                      {
                        "type": "CIEL",
                        "value": "1065"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373066001"
                      }
                    ]
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1066"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373067005"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1066"
                      },
                      {
                        "type": "CIEL",
                        "value": "1066"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1066"
                      }
                    ]
                  }
                ]
              },
              "id": "everTested"
            },
            {
              "label": "Duration in months since the last test:",
              "type": "obs",
              "id": "durationSinceLastTest",
              "questionOptions": {
                "rendering": "number",
                "concept": "159813AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "max": "250",
                "min": "0",
                "showDate": "",
                "conceptMappings": [
                  {
                    "type": "CIEL",
                    "value": "159813"
                  },
                  {
                    "type": "AMPATH",
                    "value": "6151"
                  }
                ]
              },
              "hide": {
                "hideWhenExpression": "isEmpty(everTested) || everTested === '1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Has the client done HIV self test in the last 12 months?",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "2797e57b-d1ff-4928-b10e-b72e95b63faf",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1065"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1065"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1065"
                      },
                      {
                        "type": "CIEL",
                        "value": "1065"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373066001"
                      }
                    ]
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1066"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373067005"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1066"
                      },
                      {
                        "type": "CIEL",
                        "value": "1066"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1066"
                      }
                    ]
                  }
                ]
              },
              "id": "selfTestLastTwelveMonths"
            },
            {
              "label": "Is client willing to share results?",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "193d9d3b-d1c5-42f6-b44d-0c1905940c73",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1065"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1065"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1065"
                      },
                      {
                        "type": "CIEL",
                        "value": "1065"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373066001"
                      }
                    ]
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1066"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373067005"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1066"
                      },
                      {
                        "type": "CIEL",
                        "value": "1066"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1066"
                      }
                    ]
                  }
                ]
              },
              "id": "willingToShareResults",
              "hide": {
                "hideWhenExpression": "isEmpty(selfTestLastTwelveMonths) || selfTestLastTwelveMonths !== '1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Self test results?",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "c3a6b427-32cb-41d1-badc-9b623bb411c1",
                "answers": [
                  {
                    "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Positive"
                  },
                  {
                    "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Negative"
                  }
                ]
              },
              "id": "selfTestResults",
              "hide": {
                "hideWhenExpression": "isEmpty(willingToShareResults) || willingToShareResults !== '1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Date of self test",
              "type": "obs",
              "questionOptions": {
                "rendering": "date",
                "concept": "164400AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "DeteOfSelfTest",
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                }
              ],
              "hide": {
                "hideWhenExpression": "isEmpty(willingToShareResults) || willingToShareResults !== '1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            }
          ]
        },
        {
          "label": "Setting",
          "isExpanded": "true",
          "questions": [
            {
              "label": "HTS Setting:",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "cabad9c8-87e1-4163-b5fc-64cab0ca578b",
                "answers": [
                  {
                    "concept": "1537AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Facility"
                  },
                  {
                    "concept": "163488AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Community"
                  }
                ]
              },
              "id": "htsSetting",
              "required": "true"
            }
          ]
        },
        {
          "label": "Approach",
          "isExpanded": "true",
          "questions": [
            {
              "label": "HTS Approach: ",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "163556AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "164163AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Provider Initiated Testing(PITC)"
                  },
                  {
                    "concept": "06f16792-9611-40d4-82ec-9615930cc486",
                    "label": "Client Initiated Testing (CITC)"
                  }
                ]
              },
              "id": "htsApproach"
            }
          ]
        },
        {
          "label": "HTS Strategy",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Indicate HTS strategy used:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "rendering": "select",
                "concept": "d85ff219-0f5a-408d-8df0-96bcc9be5071",
                "answers": [
                  {
                    "concept": "b611df60-94a5-411b-b3f8-80065a1363a8",
                    "label": "Stand Alone VCT Center"
                  },
                  {
                    "concept": "159938AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Home Based Testing"
                  },
                  {
                    "concept": "159939AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "MO: Mobile Outreach HTS"
                  },
                  {
                    "concept": "161557AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Index testing"
                  },
                  {
                    "concept": "163108AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "SNS: Social Networks"
                  },
                  {
                    "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "O: Others"
                  }
                ]
              },
              "id": "communityStrategy",
              "hide": {
                "hideWhenExpression": "isEmpty(htsSetting) || htsSetting != '163488AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Indicate HTS strategy used:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "rendering": "select",
                "concept": "d85ff219-0f5a-408d-8df0-96bcc9be5071",
                "answers": [
                  {
                    "concept": "164163AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "HP:Provider Initiated Testing(PITC)"
                  },
                  {
                    "concept": "06f16792-9611-40d4-82ec-9615930cc486",
                    "label": "NP: HTS for non-patients"
                  },
                  {
                    "concept": "d650368d-0228-4493-b7c3-25bd1c74b462",
                    "label": "VI:Integrated VCT Center"
                  },
                  {
                    "concept": "159939AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "MO: Mobile Outreach HTS"
                  },
                  {
                    "concept": "161557AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Index testing"
                  },
                  {
                    "concept": "163108AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "SNS: Social Networks"
                  },
                  {
                    "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "O: Others"
                  }
                ]
              },
              "id": "facilityStrategy",
              "hide": {
                "hideWhenExpression": "isEmpty(htsSetting) || htsSetting != '1537AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Specify:",
              "type": "obs",
              "questionOptions": {
                "rendering": "text",
                "concept": "163761AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "otherFacilityhtsStrategy",
              "hide": {
                "hideWhenExpression": "isEmpty(facilityStrategy) || facilityStrategy != '5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Specify:",
              "type": "obs",
              "questionOptions": {
                "rendering": "text",
                "concept": "163761AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "otherCommunityhtsStrategy",
              "hide": {
                "hideWhenExpression": "isEmpty(communityStrategy) || communityStrategy != '5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' "
              }
            }
          ]
        },
        {
          "label": "HTS Entry Point",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Indicate HTS entry point: ",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "160540AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "5485AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "In Patient Department(IPD)"
                  },
                  {
                    "concept": "160542AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Out Patient Department(OPD)"
                  },
                  {
                    "concept": "162181AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Peadiatric Clinic"
                  },
                  {
                    "concept": "160552AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Nutrition Clinic"
                  },
                  {
                    "concept": "160538AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "PMTCT - ANC"
                  },
                  {
                    "concept": "160456AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "PMTCT - MAT"
                  },
                  {
                    "concept": "1623AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "PMTCT - PNC"
                  },
                  {
                    "concept": "160541AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "TB"
                  },
                  {
                    "concept": "159940AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "VCT"
                  },
                  {
                    "concept": "162223AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "VMMC"
                  },
                  {
                    "concept": "160546AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "STI Clinic"
                  },
                  {
                    "concept": "160522AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Emergency"
                  },
                  {
                    "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Other"
                  }
                ]
              },
              "id": "htsFacilityEntryPoint",
              "required": "true",
              "hide": {
                "hideWhenExpression": "isEmpty(htsSetting) || htsSetting != '1537AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Indicate HTS entry point: ",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "160540AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "163096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Community Testing"
                  },
                  {
                    "concept": "159938AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Home Based Testing"
                  },
                  {
                    "concept": "159939AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Mobile Outreach"
                  },
                  {
                    "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Other"
                  }
                ]
              },
              "id": "htsCommunityEntryPoint",
              "required": "true",
              "hide": {
                "hideWhenExpression": "isEmpty(htsSetting) || htsSetting != '163488AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            }
          ]
        },
        {
          "label": "TB Screening",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Tb Screening results: ",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "1659AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "conceptMappings": [
                  {
                    "type": "SNOMED CT",
                    "value": "CT: 415760001"
                  },
                  {
                    "type": "CIEL",
                    "value": "1659"
                  }
                ],
                "answers": [
                  {
                    "concept": "1660AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No TB Signs",
                    "conceptMappings": [
                      {
                        "type": "SNOMED NP",
                        "value": "NP: 161915001"
                      },
                      {
                        "type": "CIEL",
                        "value": "1660"
                      },
                      {
                        "type": "SNOMED MVP",
                        "value": "MVP: 16601000105003"
                      }
                    ]
                  },
                  {
                    "concept": "142177AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Presumed TB",
                    "conceptMappings": [
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 41769001"
                      },
                      {
                        "type": "CIEL",
                        "value": "142177"
                      },
                      {
                        "type": "IMO ProblemIT",
                        "value": "ProblemIT: 27053"
                      },
                      {
                        "type": "ICD-10-WHO",
                        "value": "R69"
                      }
                    ]
                  },
                  {
                    "concept": "160737AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Not Done",
                    "conceptMappings": [
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 262008008"
                      },
                      {
                        "type": "CIEL",
                        "value": "160737"
                      }
                    ]
                  },
                  {
                    "concept": "1111AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "On TB Treatment"
                  }
                ]
              },
              "id": "tbScreeningResults"
            }
          ]
        },
        {
          "label": "HIV Testing",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Has consent been given? ",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "1710AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "true",
                    "label": "Yes"
                  },
                  {
                    "concept": "false",
                    "label": "No"
                  }
                ]
              },
              "id": "consentGiven",
              "required": "true"
            },
            {
              "label": "Client tested as?  ",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "b61c1482-1697-404c-ab96-fd698d5fd317",
                "answers": [
                  {
                    "concept": "147082f4-0662-4bfa-a54c-914f1db97373",
                    "label": "Individual"
                  },
                  {
                    "concept": "c3eba392-6f4d-4990-809f-91000503afbc",
                    "label": "Couple"
                  }
                ]
              },
              "id": "testedAs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              }
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "required": "true",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest1",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 1 Name",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "9c4011c2-2579-49cf-ab53-93d009f03e7b",
                        "label": "Trinscreen"
                      },
                      {
                        "concept": "5e010f25-6074-4caa-9a26-9ae93ca03e31",
                        "label": "Standard Q"
                      }
                    ]
                  },
                  "id": "kitName",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true' || age <= 10"
                  }
                },
                {
                  "label": "Kit 1 Name",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "9c4011c2-2579-49cf-ab53-93d009f03e7b",
                        "label": "Trinscreen"
                      }
                    ]
                  },
                  "id": "kitNameFe",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true' || age >= 10"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumber",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitName) && isEmpty(kitNameFe)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDate",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitName) && isEmpty(kitNameFe)"
                  }
                },
                {
                  "label": "HIV Test 1 Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResults",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitName) && isEmpty(kitNameFe)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Check the status of the kit used. If okay, repeat the same test"
                  }
                }
              ]
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "required": "true",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest1R",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 1 Name (Repeat)",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "9c4011c2-2579-49cf-ab53-93d009f03e7b",
                        "label": "Trinscreen"
                      }
                    ]
                  },
                  "id": "kitNameR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(testResults) || testResults !== '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || kitName !== '9c4011c2-2579-49cf-ab53-93d009f03e7b'"
                  }
                },
                {
                  "label": "Kit 1 Name (Repeat)",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "5e010f25-6074-4caa-9a26-9ae93ca03e31",
                        "label": "Standard Q"
                      }
                    ]
                  },
                  "id": "kitNameRQ",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(testResults) || testResults !== '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || kitName !== '5e010f25-6074-4caa-9a26-9ae93ca03e31'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameRQ) && isEmpty(kitNameR)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateR",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameRQ) && isEmpty(kitNameR)"
                  }
                },
                {
                  "label": "HIV Test 1 Repeat Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameRQ) && isEmpty(kitNameR)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Stop testing and consult your supervisor"
                  }
                }
              ]
            },
            {
              "label": "HIV Test(s)",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest2",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 2 Name",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "3de9db8a-32a2-4518-8887-c8f25208dade",
                        "label": "One Step"
                      }
                    ]
                  },
                  "id": "kitNameB",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(testResults) || testResults !== '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && testResultsR !== '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberB",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameB)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateB",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameB)"
                  }
                },
                {
                  "label": "HIV Test 2 Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1326AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsB",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameB)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Check the status of the kit used. If okay, repeat the same test"
                  }
                }
              ]
            },
            {
              "label": "HIV Test(s)",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest2R",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 2 Name (Repeat)",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "3de9db8a-32a2-4518-8887-c8f25208dade",
                        "label": "One Step"
                      }
                    ]
                  },
                  "id": "kitNameBR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "testResultsB !== '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberBR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameBR)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateBR",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameBR)"
                  }
                },
                {
                  "label": "HIV Test 2 Repeat Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1326AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsBR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameBR)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Stop testing and consult your supervisor"
                  }
                }
              ]
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTestA2",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 1 Name",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "9c4011c2-2579-49cf-ab53-93d009f03e7b",
                        "label": "Trinscreen"
                      }
                    ]
                  },
                  "id": "kitNameD",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "testResultsB !== '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && testResultsBR !== '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberD",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameD)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateD",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameD)"
                  }
                },
                {
                  "label": "HIV Test 3 Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1326AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsD",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameD)"
                  }
                }
              ]
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTestA2R",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 1 Name (Repeat",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "9c4011c2-2579-49cf-ab53-93d009f03e7b",
                        "label": "Trinscreen"
                      }
                    ]
                  },
                  "id": "kitNameDR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "testResultsD !== '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberDR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameDR)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateDR",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameDR)"
                  }
                },
                {
                  "label": "HIV Test 3 Repeat Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "1326AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsDR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameDR)"
                  }
                }
              ]
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest3",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 3 Name",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "59ef8c87-eb66-4f9e-a459-7227c01f682e",
                        "label": "First Response"
                      }
                    ]
                  },
                  "id": "kitNameC",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "testResultsB !== '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && testResultsBR !== '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberC",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameC)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateC",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameC)"
                  }
                },
                {
                  "label": "HIV Test 3 Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "83038d41-e832-498b-928f-974ec5bb23dc",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsC",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameC)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Check the status of the kit used. If okay, repeat the same test"
                  }
                }
              ]
            },
            {
              "label": "HIV Test",
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "group",
                "concept": "164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "id": "hivTest3R",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              },
              "questions": [
                {
                  "label": "Kit 3 Name (Repeat)",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "214c83f9-435d-44f5-9ae6-d5757b7b4c7f",
                    "answers": [
                      {
                        "concept": "59ef8c87-eb66-4f9e-a459-7227c01f682e",
                        "label": "First Response"
                      }
                    ]
                  },
                  "id": "kitNameCR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "testResultsC !== '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                },
                {
                  "label": "Lot Number",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "3d4f9e8e-46cc-4024-a1c4-d0167f2c84a4"
                  },
                  "id": "lotNumberCR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameCR)"
                  }
                },
                {
                  "label": "Expiry Date",
                  "type": "obs",
                  "required": "true",
                  "validators": [
                    {
                      "type": "date",
                      "allowFutureDates": "true"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Expiry date should be greater than the encounter date."
                    }
                  ],
                  "questionOptions": {
                    "rendering": "date",
                    "concept": "162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "weeksList": ""
                  },
                  "id": "expiryDateCR",
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameCR)"
                  }
                },
                {
                  "label": "HIV Test 3 Repeat Results:",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "83038d41-e832-498b-928f-974ec5bb23dc",
                    "answers": [
                      {
                        "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Positive"
                      },
                      {
                        "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Negative"
                      },
                      {
                        "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Invalid"
                      }
                    ]
                  },
                  "id": "testResultsCR",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(kitNameCR)"
                  },
                  "alert": {
                    "alertWhenExpression": "myValue === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'",
                    "message": "Stop testing and consult your supervisor"
                  }
                }
              ]
            },
            {
              "label": "Final Results:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "rendering": "select",
                "concept": "159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "calculate": {
                  "calculateExpression": "String(testResults) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsR) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsB) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsD) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsDR) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsC) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' :  String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsDR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsDR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' :  String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResults) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' :  String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsD) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsDR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsDR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsC) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsBR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' :  String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : String(testResultsR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsB) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && String(testResultsCR) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : ''"
                },
                "answers": [
                  {
                    "concept": "703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Positive"
                  },
                  {
                    "concept": "664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Negative"
                  },
                  {
                    "concept": "1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Inconclusive"
                  },
                  {
                    "concept": "163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Invalid"
                  }
                ]
              },
              "id": "hivFinalResult",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) ||isEmpty(testResults) || consentGiven !== 'true'"
              }
            },
            {
              "label": "Results given to client?",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "rendering": "select",
                "concept": "164848AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes"
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No"
                  }
                ]
              },
              "id": "resultsGiven",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || isEmpty(hivFinalResult) || consentGiven !== 'true'"
              }
            },
            {
              "label": "Couple is discordant:",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "6096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "calculate": {
                  "calculateExpression": "String(testedAs) === '147082f4-0662-4bfa-a54c-914f1db97373' ? '1175AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' : ''"
                },
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1065"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373066001"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1065"
                      },
                      {
                        "type": "CIEL",
                        "value": "1065"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1065"
                      }
                    ]
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No",
                    "conceptMappings": [
                      {
                        "type": "PIH",
                        "value": "1066"
                      },
                      {
                        "type": "PIH Malawi",
                        "value": "Malawi: 1066"
                      },
                      {
                        "type": "AMPATH",
                        "value": "1066"
                      },
                      {
                        "type": "CIEL",
                        "value": "1066"
                      },
                      {
                        "type": "SNOMED CT",
                        "value": "CT: 373067005"
                      }
                    ]
                  },
                  {
                    "concept": "1175AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "N/A"
                  }
                ]
              },
              "id": "coupleDiscordant",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(consentGiven) || consentGiven !== 'true'"
              }
            }
          ]
        },
        {
          "label": "Referral",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Client referred for other services:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "rendering": "radio",
                "concept": "c9404c8f-cf83-4bfe-acc0-4881599c78ba",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes"
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No"
                  }
                ]
              },
              "id": "ClieNtReferrEd",
              "hide": {
                "hideWhenExpression": "isEmpty(hivFinalResult)"
              }
            },
            {
              "label": "Referral history",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "163180AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Referred for which services::",
                  "type": "obs",
                  "required": "true",
                  "questionOptions": {
                    "rendering": "checkbox",
                    "concept": "1272AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "answers": [
                      {
                        "concept": "7197a2d9-1eeb-4ad1-9ff9-426ca0d34ed3",
                        "label": "Risk reduction counselling"
                      },
                      {
                        "concept": "159612AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Safer sex practices"
                      },
                      {
                        "concept": "190AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Condom use counselling"
                      },
                      {
                        "concept": "1691AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Post-exposure prophylaxis"
                      },
                      {
                        "concept": "167125AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Prevention and treatment of STIs"
                      },
                      {
                        "concept": "118855AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Substance abuse and mental health treatment"
                      },
                      {
                        "concept": "141814AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Prevention of Violence"
                      },
                      {
                        "concept": "162223AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "VMMC"
                      },
                      {
                        "concept": "1370AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "HIV testing and re-testing"
                      },
                      {
                        "concept": "166536AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Pre-Exposure Prophylaxis"
                      },
                      {
                        "concept": "5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                        "label": "Others"
                      }
                    ]
                  },
                  "id": "refeRRalSerVicEs",
                  "hide": {
                    "hideWhenExpression": "isEmpty(ClieNtReferrEd) || ClieNtReferrEd !=='1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || hivFinalResult !=='664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
                  }
                }
              ]
            },
            {
              "label": "Specify Referral",
              "type": "obs",
              "id": "SpeCrEferRed",
              "questionOptions": {
                "rendering": "textbox",
                "concept": "164359AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "hide": {
                "hideWhenExpression": "refeRRalSerVicEs !=='5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Referral for:",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "1887AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "calculate": {
                  "calculateExpression": "String(hivFinalResult) === '703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' ? '08657979-0a23-411d-be18-2ddceeb2f346' : ''"
                },
                "answers": [
                  {
                    "concept": "08657979-0a23-411d-be18-2ddceeb2f346",
                    "label": "Confirmatory Test"
                  }
                ]
              },
              "id": "ReferredForCare",
              "hide": {
                "hideWhenExpression": "isEmpty(ClieNtReferrEd) || ClieNtReferrEd !=='1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || hivFinalResult !=='703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Referral to:",
              "type": "obs",
              "questionOptions": {
                "concept": "fe72de11-9ccb-4622-b947-ab8635aa92ca",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "163266AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "This health facility"
                  },
                  {
                    "concept": "164407AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Other health facility"
                  }
                ]
              },
              "id": "ReferredToCare",
              "hide": {
                "hideWhenExpression": "isEmpty(hivFinalResult) || hivFinalResult === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "Other Facility name :",
              "type": "obs",
              "id": "otherFacility",
              "questionOptions": {
                "concept": "161550AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rendering": "text"
              },
              "hide": {
                "hideWhenExpression": "ReferredToCare !== '164407AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "label": "This Facility:",
              "type": "obs",
              "id": "thisfacility",
              "questionOptions": {
                "concept": "162724AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rendering": "text",
                "calculate": {
                  "calculateExpression": "ReferredToCare === '163266AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' && userLocation.display"
                }
              },
              "hide": {
                "hideWhenExpression": "ReferredToCare !== '163266AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            }
          ]
        },
        {
          "label": "Recency screening",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Has recency screening been done:",
              "type": "obs",
              "questionOptions": {
                "rendering": "radio",
                "concept": "163777AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "answers": [
                  {
                    "concept": "1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "Yes"
                  },
                  {
                    "concept": "1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                    "label": "No"
                  }
                ]
              },
              "id": "recencyScreening",
              "hide": {
                "hideWhenExpression": "isEmpty(hivFinalResult) || hivFinalResult === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'"
              }
            },
            {
              "type": "patientIdentifier",
              "label": "Recency Id (REC14130-00001)",
              "questionInfo": "",
              "id": "recencyId",
              "required": "false",
              "default": "",
              "questionOptions": {
                "rendering": "text",
                "identifierType": "fd52829a-75d2-4732-8e43-4bff8e5b4f1a"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "myValue && doesNotMatchExpression('^REC\\\\d{5}-\\\\d{5,6}$', recencyId)",
                  "message": "Please provide the correct format for the recency id ie. REC+mflCode+number eg.REC11902-00062"
                }
              ],
              "hide": {
                "hideWhenExpression": "isEmpty(hivFinalResult) || hivFinalResult === '664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' || isEmpty(recencyScreening) || recencyScreening === '1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' "
              }
            }
          ]
        },
        {
          "label": "Remarks",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Remarks",
              "type": "obs",
              "questionOptions": {
                "rendering": "textarea",
                "concept": "163042AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "rows": "3"
              },
              "id": "rEmArks"
            }
          ]
        }
      ]
    }
  ],
  "processor": "EncounterFormProcessor",
  "referencedForms": [],
  "encounterType": "9c0a7a57-62ff-4f75-babe-5835b0e921b7"
}