"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[7236],{7236:(t,i,e)=>{e.r(i),e.d(i,{default:()=>d});var n=e(1343),l=e.n(n),r=e(3150),s=e(5198),o=e(8254),u=e(7821);function a(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var c=e(6453);const d=function(t){var i,e,d=t.closeModal,v=(t.patientUuid,t.visit),y=(0,r.useTranslation)().t,f=function(t){var i,e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=(0,r.useTranslation)().t,d=(0,o.useVisitContextStore)().mutateVisit,v=(i=(0,n.useState)(!1),e=2,function(t){if(Array.isArray(t))return t}(i)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,l,r=[],s=!0,o=!1;try{for(e=e.call(t);!(s=(n=e.next()).done)&&(r.push(n.value),!i||r.length!==i);s=!0);}catch(t){o=!0,l=t}finally{try{s||null==e.return||e.return()}finally{if(o)throw l}}return r}}(i,e)||function(t,i){if(t){if("string"==typeof t)return a(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,i):void 0}}(i,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],f=v[1],p=function(){(0,u.uA)(null==t?void 0:t.uuid).then((function(){var i,e;(0,o.showSnackbar)({title:c("visitRestored","Visit restored"),subtitle:c("visitRestoredSuccessfully","{{visit}} restored successfully",{visit:null!==(e=null==t||null===(i=t.visitType)||void 0===i?void 0:i.display)&&void 0!==e?e:c("visit","Visit")}),kind:"success"}),d(),null==s||s()})).catch((function(){var i,e;(0,o.showSnackbar)({title:c("visitNotRestored","Visit couldn't be restored"),subtitle:c("errorWhenRestoringVisit","Error occurred when restoring {{visit}}",{visit:null!==(e=null==t||null===(i=t.visitType)||void 0===i?void 0:i.display)&&void 0!==e?e:c("visit","Visit")}),kind:"error"})}))};return{initiateDeletingVisit:function(){f(!0),(0,u.TH)(null==t?void 0:t.uuid).then((function(){var i,e,n,r;d(),(0,o.showSnackbar)({title:c("visitDeleted","{{visit}} deleted",{visit:null!==(n=null==t||null===(i=t.visitType)||void 0===i?void 0:i.display)&&void 0!==n?n:c("visit","Visit")}),subtitle:c("visitDeletedSuccessfully","{{visit}} deleted successfully",{visit:null!==(r=null==t||null===(e=t.visitType)||void 0===e?void 0:e.display)&&void 0!==r?r:c("visit","Visit")}),kind:"success",actionButtonLabel:c("undo","Undo"),onActionButtonClick:p}),null==l||l()})).catch((function(){(0,o.showSnackbar)({title:c("errorDeletingVisit","Error deleting visit"),kind:"error",subtitle:c("errorOccurredDeletingVisit","An error occurred when deleting visit")})})).finally((function(){f(!1)}))},isDeletingVisit:y}}(v,d),p=f.isDeletingVisit,h=f.initiateDeletingVisit;return l().createElement("div",null,l().createElement(s.ModalHeader,{closeModal:d,title:y("deleteVisitDialogHeader","Are you sure you want to delete this visit?")}),l().createElement(s.ModalBody,null,l().createElement("p",{className:c.A.body},y("confirmDeleteVisitText","Deleting this {{visit}} will delete its associated encounters.",{visit:null!==(e=null==v||null===(i=v.visitType)||void 0===i?void 0:i.display)&&void 0!==e?e:y("visit","Visit")}))),l().createElement(s.ModalFooter,null,l().createElement(s.Button,{kind:"secondary",onClick:d},y("cancel","Cancel")),l().createElement(s.Button,{kind:"danger",onClick:h,disabled:p},p?l().createElement(s.InlineLoading,{description:y("deletingVisit","Deleting visit")}):y("deleteVisit","Delete visit"))))}}}]);