"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[4718],{4520:(e,n,t)=>{t.d(n,{H9:()=>s,II:()=>d,b4:()=>u});var a=t(1343),r=t(1123),o=t(8254);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function s(){var e,n,t,i,s,c,u=(n=(0,r.Ay)("".concat(o.restBaseUrl,"/systemsetting/concept.causeOfDeath"),o.openmrsFetch,{shouldRetryOnError:function(e){return l(e,Response)&&404!==e.status}}),t=n.data,i=n.error,s=n.isLoading,c=n.isValidating,(0,a.useMemo)((function(){var e,n;return{value:null!==(n=null==t||null===(e=t.data)||void 0===e?void 0:e.value)&&void 0!==n?n:void 0,isCauseOfDeathLoading:s,isCauseOfDeathValidating:c,error:i}}),[null==t||null===(e=t.data)||void 0===e?void 0:e.value,i,s,c])),d=u.isCauseOfDeathLoading,f=u.isCauseOfDeathValidating,p=function(e){var n,t,a=(0,r.Ay)("".concat(o.restBaseUrl,"/concept/").concat(e),(function(n){return e?(0,o.openmrsFetch)(n):void 0}),{shouldRetryOnError:function(e){return l(e,Response)&&404!==e.status}}),i=a.data,s=a.error,c=a.isLoading,u=a.isValidating;return{conceptAnswers:null!==(t=null==i||null===(n=i.data)||void 0===n?void 0:n.answers)&&void 0!==t?t:[],isConceptLoading:c,conceptError:s,isConceptAnswerValidating:u}}(u.value),v=p.isConceptLoading,h=p.isConceptAnswerValidating;return{causesOfDeath:p.conceptAnswers,isLoading:d||v,isValidating:h||f}}var c=function(e,n){var t=new AbortController;return(0,o.openmrsFetch)("".concat(o.restBaseUrl,"/person/").concat(e),{headers:{"Content-type":"application/json"},method:"POST",body:n,signal:t.signal})};function u(e,n,t,a){var r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){i(e,n,t[n])}))}return e}({dead:!0,deathDate:e||null},a?{causeOfDeathNonCoded:a}:{causeOfDeath:t});return c(n,r)}function d(e){return c(e,{causeOfDeath:null,causeOfDeathNonCoded:null,dead:!1,deathDate:null})}},4718:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var a=t(1343),r=t.n(a),o=t(3150),i=t(5198),l=t(8254),s=t(4520);const c=function(e){var n=e.closeModal,t=e.patientUuid,c=(0,o.useTranslation)().t,u=(0,a.useCallback)((function(){n(),(0,s.II)(t).then((function(){n(),(0,l.showSnackbar)({title:c("markAliveSuccessfully","Patient marked alive successfully")}),window.location.reload()})).catch((function(e){(0,l.showSnackbar)({title:c("errorMarkingPatientAlive","Error marking patient alive"),kind:"error",isLowContrast:!1,subtitle:null==e?void 0:e.message})}))}),[n,t,c]);return r().createElement("div",null,r().createElement(i.ModalHeader,{closeModal:n,title:c("markPatientAlive","Mark patient alive")}),r().createElement(i.ModalBody,null,c("markPatientAliveConfirmation","Are you sure you want to mark this patient alive?")),r().createElement(i.ModalFooter,null,r().createElement(i.Button,{kind:"secondary",onClick:n},c("no","No")),r().createElement(i.Button,{onClick:u},c("yes","Yes"))))}}}]);