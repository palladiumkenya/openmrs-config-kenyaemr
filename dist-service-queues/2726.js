/*! For license information please see 2726.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_openmrs_esm_service_queues_app=globalThis.webpackChunk_openmrs_esm_service_queues_app||[]).push([[2726],{26861:(e,t,n)=>{n.d(t,{E9:()=>d,YR:()=>o,cv:()=>f,i6:()=>c,yn:()=>l});var i=n(54440);function r(e,t){null==t?sessionStorage.removeItem(e):sessionStorage.setItem(e,t)}function u(e){return sessionStorage.getItem(e)}var s={selectedQueueLocationName:u("queueLocationName"),selectedQueueLocationUuid:u("queueLocationUuid"),selectedServiceUuid:u("queueServiceUuid"),selectedServiceDisplay:u("queueServiceDisplay"),selectedQueueStatusUuid:u("queueStatusUuid"),selectedQueueStatusDisplay:u("queueStatusDisplay")},a=(0,i.createGlobalStore)("serviceQueues",s),o=function(e,t){r("queueServiceUuid",e),r("queueServiceDisplay",t),a.setState({selectedServiceUuid:e,selectedServiceDisplay:t})},d=function(e){r("queueLocationName",e),a.setState({selectedQueueLocationName:e})},c=function(e){r("queueLocationUuid",e),a.setState({selectedQueueLocationUuid:e})},l=function(e,t){r("queueStatusUuid",e),r("queueStatusDisplay",t),a.setState({selectedQueueStatusUuid:e,selectedQueueStatusDisplay:t})};function f(){return(0,i.useStore)(a)}},58139:(e,t,n)=>{e.exports=n(93296)},67196:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(1343),r=n.n(i),u=n(72339),s=n(8050),a=n(61031),o=n(26861);function d(){var e=(0,u.useTranslation)().t,t=(0,o.cv)().selectedServiceUuid,n=(0,a.jS)(t,"").waitTime;return r().createElement(s.C,null,r().createElement(s.Jq,{title:e("averageWaitTime","Average wait time today")}),r().createElement(s.OC,null,r().createElement(s.dL,{label:e("minutes","Minutes"),value:n?n.averageWaitTime:"--"})))}},71123:(e,t,n)=>{n.d(t,{Ay:()=>d,BE:()=>o,Tk:()=>u.mutate});var i=n(1343),r=n(58139),u=n(55434);const s=i.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),a={dedupe:!0},o=u.OBJECT.defineProperty(u.SWRConfig,"defaultValue",{value:u.defaultConfig}),d=(0,u.withArgs)((e,t,n)=>{const{cache:o,compare:d,suspense:c,fallbackData:l,revalidateOnMount:f,revalidateIfStale:v,refreshInterval:E,refreshWhenHidden:S,refreshWhenOffline:g,keepPreviousData:m}=n,[p,U,h,R]=u.SWRGlobalState.get(o),[y,T]=(0,u.serialize)(e),L=(0,i.useRef)(!1),_=(0,i.useRef)(!1),b=(0,i.useRef)(y),V=(0,i.useRef)(t),C=(0,i.useRef)(n),D=()=>C.current,w=()=>D().isVisible()&&D().isOnline(),[I,O,q,k]=(0,u.createCacheHelper)(o,y),N=(0,i.useRef)({}).current,A=(0,u.isUndefined)(l)?n.fallback[y]:l,F=(e,t)=>{for(const n in N){const i=n;if("data"===i){if(!d(e[i],t[i])){if(!(0,u.isUndefined)(e[i]))return!1;if(!d(B,t[i]))return!1}}else if(t[i]!==e[i])return!1}return!0},Q=(0,i.useMemo)(()=>{const e=!!y&&!!t&&((0,u.isUndefined)(f)?!D().isPaused()&&!c&&(!!(0,u.isUndefined)(v)||v):f),n=t=>{const n=(0,u.mergeObjects)(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},i=I(),r=k(),s=n(i),a=i===r?s:n(r);let o=s;return[()=>{const e=n(I());return F(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>a]},[o,y]),j=(0,r.useSyncExternalStore)((0,i.useCallback)(e=>q(y,(t,n)=>{F(n,t)||e()}),[o,y]),Q[0],Q[1]),P=!L.current,W=p[y]&&p[y].length>0,x=j.data,M=(0,u.isUndefined)(x)?A:x,G=j.error,Y=(0,i.useRef)(M),B=m?(0,u.isUndefined)(x)?Y.current:x:M,H=!(W&&!(0,u.isUndefined)(G))&&(P&&!(0,u.isUndefined)(f)?f:!D().isPaused()&&(c?!(0,u.isUndefined)(M)&&v:(0,u.isUndefined)(M)||v)),J=!!(y&&t&&P&&H),z=(0,u.isUndefined)(j.isValidating)?J:j.isValidating,K=(0,u.isUndefined)(j.isLoading)?J:j.isLoading,X=(0,i.useCallback)(async e=>{const t=V.current;if(!y||!t||_.current||D().isPaused())return!1;let i,r,s=!0;const a=e||{},o=!h[y]||!a.dedupe,c=()=>u.IS_REACT_LEGACY?!_.current&&y===b.current&&L.current:y===b.current,l={isValidating:!1,isLoading:!1},f=()=>{O(l)},v=()=>{const e=h[y];e&&e[1]===r&&delete h[y]},E={isValidating:!0};(0,u.isUndefined)(I().data)&&(E.isLoading=!0);try{if(o&&(O(E),n.loadingTimeout&&(0,u.isUndefined)(I().data)&&setTimeout(()=>{s&&c()&&D().onLoadingSlow(y,n)},n.loadingTimeout),h[y]=[t(T),(0,u.getTimestamp)()]),[i,r]=h[y],i=await i,o&&setTimeout(v,n.dedupingInterval),!h[y]||h[y][1]!==r)return o&&c()&&D().onDiscarded(y),!1;l.error=u.UNDEFINED;const e=U[y];if(!(0,u.isUndefined)(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return f(),o&&c()&&D().onDiscarded(y),!1;const a=I().data;l.data=d(a,i)?a:i,o&&c()&&D().onSuccess(i,y,n)}catch(e){v();const t=D(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,o&&c()&&(t.onError(e,y,t),(!0===n||(0,u.isFunction)(n)&&n(e))&&(D().revalidateOnFocus&&D().revalidateOnReconnect&&!w()||t.onErrorRetry(e,y,t,e=>{const t=p[y];t&&t[0]&&t[0](u.revalidateEvents.ERROR_REVALIDATE_EVENT,e)},{retryCount:(a.retryCount||0)+1,dedupe:!0}))))}return s=!1,f(),!0},[y,o]),Z=(0,i.useCallback)((...e)=>(0,u.internalMutate)(o,b.current,...e),[]);if((0,u.useIsomorphicLayoutEffect)(()=>{V.current=t,C.current=n,(0,u.isUndefined)(x)||(Y.current=x)}),(0,u.useIsomorphicLayoutEffect)(()=>{if(!y)return;const e=X.bind(u.UNDEFINED,a);let t=0;const n=(0,u.subscribeCallback)(y,p,(n,i={})=>{if(n==u.revalidateEvents.FOCUS_EVENT){const n=Date.now();D().revalidateOnFocus&&n>t&&w()&&(t=n+D().focusThrottleInterval,e())}else if(n==u.revalidateEvents.RECONNECT_EVENT)D().revalidateOnReconnect&&w()&&e();else{if(n==u.revalidateEvents.MUTATE_EVENT)return X();if(n==u.revalidateEvents.ERROR_REVALIDATE_EVENT)return X(i)}});return _.current=!1,b.current=y,L.current=!0,O({_k:T}),H&&((0,u.isUndefined)(M)||u.IS_SERVER?e():(0,u.rAF)(e)),()=>{_.current=!0,n()}},[y]),(0,u.useIsomorphicLayoutEffect)(()=>{let e;function t(){const t=(0,u.isFunction)(E)?E(I().data):E;t&&-1!==e&&(e=setTimeout(n,t))}function n(){I().error||!S&&!D().isVisible()||!g&&!D().isOnline()?t():X(a).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[E,S,g,y]),(0,i.useDebugValue)(B),c&&(0,u.isUndefined)(M)&&y){if(!u.IS_REACT_LEGACY&&u.IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");V.current=t,C.current=n,_.current=!1;const e=R[y];if(!(0,u.isUndefined)(e)){const t=Z(e);s(t)}if(!(0,u.isUndefined)(G))throw G;{const e=X(a);(0,u.isUndefined)(B)||(e.status="fulfilled",e.value=!0),s(e)}}return{mutate:Z,get data(){return N.data=!0,B},get error(){return N.error=!0,G},get isValidating(){return N.isValidating=!0,z},get isLoading(){return N.isLoading=!0,K}}})},93296:(e,t,n)=>{var i=n(1343),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=i.useState,s=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=u({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return a(function(){r.value=n,r.getSnapshot=t,d(r)&&c({inst:r})},[e,n,t]),s(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c}}]);