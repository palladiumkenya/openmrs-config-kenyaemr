{"version":3,"file":"213.js","mappings":"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","sources":["webpack://@openmrs/esm-patient-search-app/./src/compact-patient-search-extension/compact-patient-search.scss","webpack://@openmrs/esm-patient-search-app/./src/compact-patient-search-extension/compact-patient-search.scss?46fd","webpack://@openmrs/esm-patient-search-app/./src/compact-patient-search-extension/index.tsx","webpack://@openmrs/esm-patient-search-app/./src/patient-search-context.ts","webpack://@openmrs/esm-patient-search-app/./src/patient-search.resource.tsx","webpack://@openmrs/esm-patient-search-app/./src/ui-components/empty-data-illustration.component.tsx","webpack://@openmrs/esm-patient-search-app/./src/utils/fhir-mapper.ts"],"names":["___CSS_LOADER_EXPORT___","push","module","id","locals","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","patients","selectPatientAction","initialSearchTerm","buttonProps","useTranslation","t","config","useConfig","inputRef","useRef","bannerContainerRef","useState","searchTerm","setSearchTerm","showSearchResults","useMemo","trim","patientSearchResponse","useInfinitePatientSearch","includeDead","data","handleChange","useCallback","val","handleClear","handlePatientSelection","event","index","preventDefault","uuid","navigate","to","interpolateString","search","patientChartUrl","patientUuid","handleFocusToInput","len","current","value","length","setSelectionRange","focus","focusedResult","useArrowNavigation","useEffect","children","scrollIntoView","behavior","block","inline","div","className","styles","patientSearchBar","form","onSubmit","searchArea","Search","autoFocus","patientSearchInput","closeButtonLabelText","labelText","onChange","target","onClear","placeholder","ref","size","Button","type","onClick","PatientSearchContextProvider","nonNavigationSelectPatientAction","patientClickSideEffect","floatingSearchResultsContainer","PatientSearch","query","PatientSearchContext","createContext","Provider","usePatientSearchContext","useContext","patientSearchCustomRepresentation","join","searchQuery","res","isSearching","resultsToFetch","customRepresentation","getUrl","page","prevPageData","links","some","link","rel","baseUrl","restBaseUrl","params","URLSearchParams","q","v","toString","limit","totalCount","startIndex","shouldFetch","useSWRInfinite","openmrsFetch","isLoading","isValidating","setSize","error","mappedData","flatMap","results","fetchError","hasMore","at","setPage","currentPage","totalResults","useRecentlyViewedPatients","user","userProperties","showRecentlySearchedPatients","userUuid","useSession","shouldFetchRecentlyViewedPatients","url","useSWR","mutate","patientsVisited","Boolean","split","filter","updateRecentlyViewedPatients","mostRecentPatients","Array","from","Set","slice","newUserProperties","method","headers","body","isLoadingPatients","recentlyViewedPatientUuids","mutateUserProperties","useRestPatients","patientUuids","getPatientUrl","keepPreviousData","initialSize","Math","min","width","height","svg","viewBox","title","g","transform","fill","fillRule","path","d","stroke","strokeWidth","ellipse","cx","cy","rx","ry","getGender","gender","mapToFhirPatient","patient","preferredAddress","person","addresses","find","address","preferred","addressId","uuidv4","nameId","resourceType","city","cityVillage","country","postalCode","state","stateProvince","use","birthDate","birthdate","deceasedBoolean","dead","deceasedDateTime","deathDate","identifier","identifiers","map","coding","code","identifierType","text","display","name","given","personName","givenName","middleName","family","familyName","telecom","attributes","attribute","attributeType","phone","system"],"sourceRoot":""}