"use strict";
(globalThis["webpackChunk_openmrs_esm_patient_forms_app"] = globalThis["webpackChunk_openmrs_esm_patient_forms_app"] || []).push([["src_htmlformentry_html-form-entry_workspace_tsx"],{

/***/ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/htmlformentry/html-form-entry-wrapper.scss":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/htmlformentry/html-form-entry-wrapper.scss ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/runtime/api.js */ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".-esm-patient-forms__html-form-entry-wrapper__wrapper___bkx4M {\n  width: 95%;\n  border: none;\n  margin: 0;\n  padding: 0;\n  display: none;\n}", "",{"version":3,"sources":["webpack://./src/htmlformentry/html-form-entry-wrapper.scss"],"names":[],"mappings":"AAAA;EACE,UAAA;EACA,YAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;AACF","sourcesContent":[".wrapper {\n  width: 95%;\n  border: none;\n  margin: 0;\n  padding: 0;\n  display: none;\n}\n"],"sourceRoot":""}]);
// Exports
___CSS_LOADER_EXPORT___.locals = {
	"wrapper": "-esm-patient-forms__html-form-entry-wrapper__wrapper___bkx4M"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/htmlformentry/html-form-entry-wrapper.scss":
/*!********************************************************!*\
  !*** ./src/htmlformentry/html-form-entry-wrapper.scss ***!
  \********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleDomAPI.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertBySelector.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertStyleElement.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleTagTransform.js */ "../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./html-form-entry-wrapper.scss */ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/htmlformentry/html-form-entry-wrapper.scss");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_openmrs_webpack_config_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);


if (true) {
  if (!_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }
  var p;
  for (p in a) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }
    if (a[p] !== b[p]) {
      return false;
    }
  }
  for (p in b) {
    if (isNamedExport && p === "default") {
      // eslint-disable-next-line no-continue
      continue;
    }
    if (!a[p]) {
      return false;
    }
  }
  return true;
};
    var isNamedExport = !_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals;
    var oldLocals = isNamedExport ? _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

    module.hot.accept(
      /*! !!../../../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./html-form-entry-wrapper.scss */ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/htmlformentry/html-form-entry-wrapper.scss",
      __WEBPACK_OUTDATED_DEPENDENCIES__ => { /* harmony import */ _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./html-form-entry-wrapper.scss */ "../../node_modules/@openmrs/webpack-config/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/htmlformentry/html-form-entry-wrapper.scss");
(function () {
        if (!isEqualLocals(oldLocals, isNamedExport ? _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals, isNamedExport)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = isNamedExport ? _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__ : _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals;

              update(_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"]);
      })(__WEBPACK_OUTDATED_DEPENDENCIES__); }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}



       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_openmrs_webpack_config_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_1_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/htmlformentry/html-form-entry-wrapper.component.tsx":
/*!*****************************************************************!*\
  !*** ./src/htmlformentry/html-form-entry-wrapper.component.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./html-form-entry-wrapper.scss */ "./src/htmlformentry/html-form-entry-wrapper.scss");
/* harmony import */ var _carbon_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @carbon/react */ "../../node_modules/@carbon/react/es/index.js");
function _array_like_to_array(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _array_with_holes(arr) {
    if (Array.isArray(arr)) return arr;
}
function _iterable_to_array_limit(arr, i) {
    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
    if (_i == null) return;
    var _arr = [];
    var _n = true;
    var _d = false;
    var _s, _e;
    try {
        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){
            _arr.push(_s.value);
            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally{
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally{
            if (_d) throw _e;
        }
    }
    return _arr;
}
function _non_iterable_rest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _sliced_to_array(arr, i) {
    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();
}
function _unsupported_iterable_to_array(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _array_like_to_array(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
}



var HtmlFormEntryWrapper = function(param) {
    var closeWorkspaceWithSavedChanges = param.closeWorkspaceWithSavedChanges, src = param.src;
    var iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var _useState = _sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true), 2), isIframeLoading = _useState[0], setIsIframeLoading = _useState[1];
    // set up a listener to listen for a message from HFE-UI to close the workspace
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function() {
        var callback = function(event) {
            return (event === null || event === void 0 ? void 0 : event.data) === "close-workspace" && closeWorkspaceWithSavedChanges();
        };
        window.addEventListener("message", callback);
        return function() {
            return window.removeEventListener("message", callback);
        }; // cleanup on unmount
    }, [
        closeWorkspaceWithSavedChanges
    ]);
    // hide the headers and breadcrumbs of the O2 page on load
    var onLoad = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {
        var _dashboard_querySelector, _dashboard_querySelector1, _dashboard_querySelector2;
        setIsIframeLoading(false);
        iframeRef.current.contentWindow.addEventListener("beforeunload", function() {
            return setIsIframeLoading(true);
        });
        var iframe = iframeRef.current;
        var dashboard = iframeRef.current.contentDocument;
        (_dashboard_querySelector = dashboard.querySelector("header")) === null || _dashboard_querySelector === void 0 ? void 0 : _dashboard_querySelector.remove();
        (_dashboard_querySelector1 = dashboard.querySelector(".patient-header")) === null || _dashboard_querySelector1 === void 0 ? void 0 : _dashboard_querySelector1.remove();
        (_dashboard_querySelector2 = dashboard.querySelector("#breadcrumbs")) === null || _dashboard_querySelector2 === void 0 ? void 0 : _dashboard_querySelector2.remove();
        iframe.style.display = "block";
        iframe.height = dashboard.body.scrollHeight + 50 + "px"; // set iframe height to the height of the form, with some padding
        var styleTag = dashboard.createElement("style");
        styleTag.innerHTML = "@media screen {\n      body { background: white; }\n     }";
        dashboard.head.appendChild(styleTag);
    }, []);
    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, isIframeLoading && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_carbon_react__WEBPACK_IMPORTED_MODULE_2__.InlineLoading, null), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("iframe", {
        ref: iframeRef,
        src: src,
        className: _html_form_entry_wrapper_scss__WEBPACK_IMPORTED_MODULE_1__["default"].wrapper,
        onLoad: onLoad
    }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HtmlFormEntryWrapper);


/***/ }),

/***/ "./src/htmlformentry/html-form-entry.workspace.tsx":
/*!*********************************************************!*\
  !*** ./src/htmlformentry/html-form-entry.workspace.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openmrs_esm_patient_common_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openmrs/esm-patient-common-lib */ "webpack/sharing/consume/default/@openmrs/esm-patient-common-lib/@openmrs/esm-patient-common-lib");
/* harmony import */ var _openmrs_esm_patient_common_lib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_patient_common_lib__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _html_form_entry_wrapper_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html-form-entry-wrapper.component */ "./src/htmlformentry/html-form-entry-wrapper.component.tsx");



var HtmlFormEntry = function(param) {
    var patientUuid = param.patientUuid, patient = param.patient, closeWorkspaceWithSavedChanges = param.closeWorkspaceWithSavedChanges, promptBeforeClosing = param.promptBeforeClosing, formInfo = param.formInfo;
    var currentVisit = (0,_openmrs_esm_patient_common_lib__WEBPACK_IMPORTED_MODULE_1__.useVisitOrOfflineVisit)(patientUuid).currentVisit;
    var _ref = formInfo || {}, encounterUuid = _ref.encounterUuid, visitUuid = _ref.visitUuid, htmlForm = _ref.htmlForm;
    // we always want to prompt the user before closing/hiding the workspace because we can't guarantee maintaining the state of the form
    promptBeforeClosing(function() {
        return true;
    });
    // urls for entering a new form and editing an existing form; note that we specify the returnUrl as post-message:close-workspace,
    // which tells HFE-UI to send a message to the parent window to close the workspace when the form is saved or cancelled
    var uiPage = encounterUuid ? htmlForm.formEditUiPage : htmlForm.formUiPage;
    var url = "".concat(window.openmrsBase, "/htmlformentryui/htmlform/").concat(uiPage, ".page?");
    var searchParams = new URLSearchParams();
    searchParams.append("patientId", patientUuid);
    if (visitUuid || (currentVisit === null || currentVisit === void 0 ? void 0 : currentVisit.uuid)) {
        searchParams.append("visitId", visitUuid !== null && visitUuid !== void 0 ? visitUuid : currentVisit === null || currentVisit === void 0 ? void 0 : currentVisit.uuid);
    }
    if (encounterUuid) {
        searchParams.append("encounterId", encounterUuid);
    }
    if (htmlForm.formUiResource) {
        searchParams.append("definitionUiResource", htmlForm.formUiResource);
    } else {
        searchParams.append("formUuid", htmlForm.formUuid);
    }
    searchParams.append("returnUrl", "post-message:close-workspace");
    var showFormAndLoadedData = formInfo && patientUuid;
    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, showFormAndLoadedData && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_html_form_entry_wrapper_component__WEBPACK_IMPORTED_MODULE_2__["default"], {
        src: url + searchParams,
        closeWorkspaceWithSavedChanges: closeWorkspaceWithSavedChanges
    }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HtmlFormEntry);


/***/ })

}]);
//# sourceMappingURL=src_htmlformentry_html-form-entry_workspace_tsx.js.map