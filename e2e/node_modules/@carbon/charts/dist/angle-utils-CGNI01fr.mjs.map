{"version":3,"file":"angle-utils-CGNI01fr.mjs","sources":["../../../node_modules/lodash-es/_trimmedEndIndex.js","../../../node_modules/lodash-es/_baseTrim.js","../../../node_modules/lodash-es/toNumber.js","../../../node_modules/lodash-es/now.js","../../../node_modules/lodash-es/debounce.js","../../../node_modules/d3-array/src/range.js","../../../node_modules/d3-selection/src/select.js","../../../node_modules/d3-scale/src/band.js","../../../node_modules/d3-scale/src/nice.js","../../../node_modules/d3-time/src/interval.js","../../../node_modules/d3-time/src/millisecond.js","../../../node_modules/d3-time/src/duration.js","../../../node_modules/d3-time/src/second.js","../../../node_modules/d3-time/src/minute.js","../../../node_modules/d3-time/src/hour.js","../../../node_modules/d3-time/src/day.js","../../../node_modules/d3-time/src/week.js","../../../node_modules/d3-time/src/month.js","../../../node_modules/d3-time/src/year.js","../../../node_modules/d3-time/src/ticks.js","../../../node_modules/d3-time-format/src/locale.js","../../../node_modules/d3-time-format/src/defaultLocale.js","../../../node_modules/d3-scale/src/time.js","../../../node_modules/d3/node_modules/d3-shape/src/math.js","../../../node_modules/d3/node_modules/d3-shape/src/curve/linear.js","../../../node_modules/d3/node_modules/d3-shape/src/noop.js","../../../node_modules/d3/node_modules/d3-shape/src/curve/linearClosed.js","../../../node_modules/html-to-image/es/util.js","../../../node_modules/html-to-image/es/clone-pseudos.js","../../../node_modules/html-to-image/es/mimes.js","../../../node_modules/html-to-image/es/dataurl.js","../../../node_modules/html-to-image/es/clone-node.js","../../../node_modules/html-to-image/es/embed-resources.js","../../../node_modules/html-to-image/es/embed-images.js","../../../node_modules/html-to-image/es/apply-style.js","../../../node_modules/html-to-image/es/embed-webfonts.js","../../../node_modules/html-to-image/es/index.js","../src/services/service.ts","../src/services/essentials/dom-utils.ts","../src/services/essentials/gradient-utils.ts","../src/services/angle-utils.ts"],"sourcesContent":["/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export default function() {}\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","export function resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    const doc = document.implementation.createHTMLDocument();\n    const base = doc.createElement('base');\n    const a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nexport const uuid = (() => {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    let counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    const random = () => \n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4);\n    return () => {\n        counter += 1;\n        return `u${random()}${counter}`;\n    };\n})();\nexport function delay(ms) {\n    return (args) => new Promise((resolve) => {\n        setTimeout(() => resolve(args), ms);\n    });\n}\nexport function toArray(arrayLike) {\n    const arr = [];\n    for (let i = 0, l = arrayLike.length; i < l; i++) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nfunction px(node, styleProperty) {\n    const win = node.ownerDocument.defaultView || window;\n    const val = win.getComputedStyle(node).getPropertyValue(styleProperty);\n    return val ? parseFloat(val.replace('px', '')) : 0;\n}\nfunction getNodeWidth(node) {\n    const leftBorder = px(node, 'border-left-width');\n    const rightBorder = px(node, 'border-right-width');\n    return node.clientWidth + leftBorder + rightBorder;\n}\nfunction getNodeHeight(node) {\n    const topBorder = px(node, 'border-top-width');\n    const bottomBorder = px(node, 'border-bottom-width');\n    return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getImageSize(targetNode, options = {}) {\n    const width = options.width || getNodeWidth(targetNode);\n    const height = options.height || getNodeHeight(targetNode);\n    return { width, height };\n}\nexport function getPixelRatio() {\n    let ratio;\n    let FINAL_PROCESS;\n    try {\n        FINAL_PROCESS = process;\n    }\n    catch (e) {\n        // pass\n    }\n    const val = FINAL_PROCESS && FINAL_PROCESS.env\n        ? FINAL_PROCESS.env.devicePixelRatio\n        : null;\n    if (val) {\n        ratio = parseInt(val, 10);\n        if (Number.isNaN(ratio)) {\n            ratio = 1;\n        }\n    }\n    return ratio || window.devicePixelRatio || 1;\n}\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384;\nexport function checkCanvasDimensions(canvas) {\n    if (canvas.width > canvasDimensionLimit ||\n        canvas.height > canvasDimensionLimit) {\n        if (canvas.width > canvasDimensionLimit &&\n            canvas.height > canvasDimensionLimit) {\n            if (canvas.width > canvas.height) {\n                canvas.height *= canvasDimensionLimit / canvas.width;\n                canvas.width = canvasDimensionLimit;\n            }\n            else {\n                canvas.width *= canvasDimensionLimit / canvas.height;\n                canvas.height = canvasDimensionLimit;\n            }\n        }\n        else if (canvas.width > canvasDimensionLimit) {\n            canvas.height *= canvasDimensionLimit / canvas.width;\n            canvas.width = canvasDimensionLimit;\n        }\n        else {\n            canvas.width *= canvasDimensionLimit / canvas.height;\n            canvas.height = canvasDimensionLimit;\n        }\n    }\n}\nexport function canvasToBlob(canvas, options = {}) {\n    if (canvas.toBlob) {\n        return new Promise((resolve) => {\n            canvas.toBlob(resolve, options.type ? options.type : 'image/png', options.quality ? options.quality : 1);\n        });\n    }\n    return new Promise((resolve) => {\n        const binaryString = window.atob(canvas\n            .toDataURL(options.type ? options.type : undefined, options.quality ? options.quality : undefined)\n            .split(',')[1]);\n        const len = binaryString.length;\n        const binaryArray = new Uint8Array(len);\n        for (let i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: options.type ? options.type : 'image/png',\n        }));\n    });\n}\nexport function createImage(url) {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.decode = () => resolve(img);\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.crossOrigin = 'anonymous';\n        img.decoding = 'async';\n        img.src = url;\n    });\n}\nexport async function svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(() => new XMLSerializer().serializeToString(svg))\n        .then(encodeURIComponent)\n        .then((html) => `data:image/svg+xml;charset=utf-8,${html}`);\n}\nexport async function nodeToDataURL(node, width, height) {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n    foreignObject.setAttribute('width', '100%');\n    foreignObject.setAttribute('height', '100%');\n    foreignObject.setAttribute('x', '0');\n    foreignObject.setAttribute('y', '0');\n    foreignObject.setAttribute('externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(node);\n    return svgToDataURL(svg);\n}\nexport const isInstanceOfElement = (node, instance) => {\n    if (node instanceof instance)\n        return true;\n    const nodePrototype = Object.getPrototypeOf(node);\n    if (nodePrototype === null)\n        return false;\n    return (nodePrototype.constructor.name === instance.name ||\n        isInstanceOfElement(nodePrototype, instance));\n};\n//# sourceMappingURL=util.js.map","import { uuid, toArray } from './util';\nfunction formatCSSText(style) {\n    const content = style.getPropertyValue('content');\n    return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`;\n}\nfunction formatCSSProperties(style) {\n    return toArray(style)\n        .map((name) => {\n        const value = style.getPropertyValue(name);\n        const priority = style.getPropertyPriority(name);\n        return `${name}: ${value}${priority ? ' !important' : ''};`;\n    })\n        .join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    const selector = `.${className}:${pseudo}`;\n    const cssText = style.cssText\n        ? formatCSSText(style)\n        : formatCSSProperties(style);\n    return document.createTextNode(`${selector}{${cssText}}`);\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    const style = window.getComputedStyle(nativeNode, pseudo);\n    const content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    const className = uuid();\n    try {\n        clonedNode.className = `${clonedNode.className} ${className}`;\n    }\n    catch (err) {\n        return;\n    }\n    const styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n}\nexport function clonePseudoElements(nativeNode, clonedNode) {\n    clonePseudoElement(nativeNode, clonedNode, ':before');\n    clonePseudoElement(nativeNode, clonedNode, ':after');\n}\n//# sourceMappingURL=clone-pseudos.js.map","const WOFF = 'application/font-woff';\nconst JPEG = 'image/jpeg';\nconst mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n    webp: 'image/webp',\n};\nfunction getExtension(url) {\n    const match = /\\.([^./]*?)$/g.exec(url);\n    return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n    const extension = getExtension(url).toLowerCase();\n    return mimes[extension] || '';\n}\n//# sourceMappingURL=mimes.js.map","function getContentFromDataUrl(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexport function isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexport function makeDataUrl(content, mimeType) {\n    return `data:${mimeType};base64,${content}`;\n}\nexport async function fetchAsDataURL(url, init, process) {\n    const res = await fetch(url, init);\n    if (res.status === 404) {\n        throw new Error(`Resource \"${res.url}\" not found`);\n    }\n    const blob = await res.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = () => {\n            try {\n                resolve(process({ res, result: reader.result }));\n            }\n            catch (error) {\n                reject(error);\n            }\n        };\n        reader.readAsDataURL(blob);\n    });\n}\nconst cache = {};\nfunction getCacheKey(url, contentType, includeQueryParams) {\n    let key = url.replace(/\\?.*/, '');\n    if (includeQueryParams) {\n        key = url;\n    }\n    // font resource\n    if (/ttf|otf|eot|woff2?/i.test(key)) {\n        key = key.replace(/.*\\//, '');\n    }\n    return contentType ? `[${contentType}]${key}` : key;\n}\nexport async function resourceToDataURL(resourceUrl, contentType, options) {\n    const cacheKey = getCacheKey(resourceUrl, contentType, options.includeQueryParams);\n    if (cache[cacheKey] != null) {\n        return cache[cacheKey];\n    }\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        // eslint-disable-next-line no-param-reassign\n        resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime();\n    }\n    let dataURL;\n    try {\n        const content = await fetchAsDataURL(resourceUrl, options.fetchRequestInit, ({ res, result }) => {\n            if (!contentType) {\n                // eslint-disable-next-line no-param-reassign\n                contentType = res.headers.get('Content-Type') || '';\n            }\n            return getContentFromDataUrl(result);\n        });\n        dataURL = makeDataUrl(content, contentType);\n    }\n    catch (error) {\n        dataURL = options.imagePlaceholder || '';\n        let msg = `Failed to fetch resource: ${resourceUrl}`;\n        if (error) {\n            msg = typeof error === 'string' ? error : error.message;\n        }\n        if (msg) {\n            console.warn(msg);\n        }\n    }\n    cache[cacheKey] = dataURL;\n    return dataURL;\n}\n//# sourceMappingURL=dataurl.js.map","import { clonePseudoElements } from './clone-pseudos';\nimport { createImage, toArray, isInstanceOfElement } from './util';\nimport { getMimeType } from './mimes';\nimport { resourceToDataURL } from './dataurl';\nasync function cloneCanvasElement(canvas) {\n    const dataURL = canvas.toDataURL();\n    if (dataURL === 'data:,') {\n        return canvas.cloneNode(false);\n    }\n    return createImage(dataURL);\n}\nasync function cloneVideoElement(video, options) {\n    if (video.currentSrc) {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = video.clientWidth;\n        canvas.height = video.clientHeight;\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL();\n        return createImage(dataURL);\n    }\n    const poster = video.poster;\n    const contentType = getMimeType(poster);\n    const dataURL = await resourceToDataURL(poster, contentType, options);\n    return createImage(dataURL);\n}\nasync function cloneIFrameElement(iframe) {\n    var _a;\n    try {\n        if ((_a = iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.body) {\n            return (await cloneNode(iframe.contentDocument.body, {}, true));\n        }\n    }\n    catch (_b) {\n        // Failed to clone iframe\n    }\n    return iframe.cloneNode(false);\n}\nasync function cloneSingleNode(node, options) {\n    if (isInstanceOfElement(node, HTMLCanvasElement)) {\n        return cloneCanvasElement(node);\n    }\n    if (isInstanceOfElement(node, HTMLVideoElement)) {\n        return cloneVideoElement(node, options);\n    }\n    if (isInstanceOfElement(node, HTMLIFrameElement)) {\n        return cloneIFrameElement(node);\n    }\n    return node.cloneNode(false);\n}\nconst isSlotElement = (node) => node.tagName != null && node.tagName.toUpperCase() === 'SLOT';\nasync function cloneChildren(nativeNode, clonedNode, options) {\n    var _a, _b;\n    let children = [];\n    if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n        children = toArray(nativeNode.assignedNodes());\n    }\n    else if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        ((_a = nativeNode.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        children = toArray(nativeNode.contentDocument.body.childNodes);\n    }\n    else {\n        children = toArray(((_b = nativeNode.shadowRoot) !== null && _b !== void 0 ? _b : nativeNode).childNodes);\n    }\n    if (children.length === 0 ||\n        isInstanceOfElement(nativeNode, HTMLVideoElement)) {\n        return clonedNode;\n    }\n    await children.reduce((deferred, child) => deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild) => {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }), Promise.resolve());\n    return clonedNode;\n}\nfunction cloneCSSStyle(nativeNode, clonedNode) {\n    const targetStyle = clonedNode.style;\n    if (!targetStyle) {\n        return;\n    }\n    const sourceStyle = window.getComputedStyle(nativeNode);\n    if (sourceStyle.cssText) {\n        targetStyle.cssText = sourceStyle.cssText;\n        targetStyle.transformOrigin = sourceStyle.transformOrigin;\n    }\n    else {\n        toArray(sourceStyle).forEach((name) => {\n            let value = sourceStyle.getPropertyValue(name);\n            if (name === 'font-size' && value.endsWith('px')) {\n                const reducedFont = Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1;\n                value = `${reducedFont}px`;\n            }\n            if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n                name === 'display' &&\n                value === 'inline') {\n                value = 'block';\n            }\n            if (name === 'd' && clonedNode.getAttribute('d')) {\n                value = `path(${clonedNode.getAttribute('d')})`;\n            }\n            targetStyle.setProperty(name, value, sourceStyle.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction cloneSelectValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n        const clonedSelect = clonedNode;\n        const selectedOption = Array.from(clonedSelect.children).find((child) => nativeNode.value === child.getAttribute('value'));\n        if (selectedOption) {\n            selectedOption.setAttribute('selected', '');\n        }\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        cloneCSSStyle(nativeNode, clonedNode);\n        clonePseudoElements(nativeNode, clonedNode);\n        cloneInputValue(nativeNode, clonedNode);\n        cloneSelectValue(nativeNode, clonedNode);\n    }\n    return clonedNode;\n}\nasync function ensureSVGSymbols(clone, options) {\n    const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : [];\n    if (uses.length === 0) {\n        return clone;\n    }\n    const processedDefs = {};\n    for (let i = 0; i < uses.length; i++) {\n        const use = uses[i];\n        const id = use.getAttribute('xlink:href');\n        if (id) {\n            const exist = clone.querySelector(id);\n            const definition = document.querySelector(id);\n            if (!exist && definition && !processedDefs[id]) {\n                // eslint-disable-next-line no-await-in-loop\n                processedDefs[id] = (await cloneNode(definition, options, true));\n            }\n        }\n    }\n    const nodes = Object.values(processedDefs);\n    if (nodes.length) {\n        const ns = 'http://www.w3.org/1999/xhtml';\n        const svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('xmlns', ns);\n        svg.style.position = 'absolute';\n        svg.style.width = '0';\n        svg.style.height = '0';\n        svg.style.overflow = 'hidden';\n        svg.style.display = 'none';\n        const defs = document.createElementNS(ns, 'defs');\n        svg.appendChild(defs);\n        for (let i = 0; i < nodes.length; i++) {\n            defs.appendChild(nodes[i]);\n        }\n        clone.appendChild(svg);\n    }\n    return clone;\n}\nexport async function cloneNode(node, options, isRoot) {\n    if (!isRoot && options.filter && !options.filter(node)) {\n        return null;\n    }\n    return Promise.resolve(node)\n        .then((clonedNode) => cloneSingleNode(clonedNode, options))\n        .then((clonedNode) => cloneChildren(node, clonedNode, options))\n        .then((clonedNode) => decorate(node, clonedNode))\n        .then((clonedNode) => ensureSVGSymbols(clonedNode, options));\n}\n//# sourceMappingURL=clone-node.js.map","import { resolveUrl } from './util';\nimport { getMimeType } from './mimes';\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl';\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g;\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nfunction toRegex(url) {\n    // eslint-disable-next-line no-useless-escape\n    const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g');\n}\nexport function parseURLs(cssText) {\n    const urls = [];\n    cssText.replace(URL_REGEX, (raw, quotation, url) => {\n        urls.push(url);\n        return raw;\n    });\n    return urls.filter((url) => !isDataUrl(url));\n}\nexport async function embed(cssText, resourceURL, baseURL, options, getContentFromUrl) {\n    try {\n        const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n        const contentType = getMimeType(resourceURL);\n        let dataURL;\n        if (getContentFromUrl) {\n            const content = await getContentFromUrl(resolvedURL);\n            dataURL = makeDataUrl(content, contentType);\n        }\n        else {\n            dataURL = await resourceToDataURL(resolvedURL, contentType, options);\n        }\n        return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`);\n    }\n    catch (error) {\n        // pass\n    }\n    return cssText;\n}\nfunction filterPreferredFontFormat(str, { preferredFontFormat }) {\n    return !preferredFontFormat\n        ? str\n        : str.replace(FONT_SRC_REGEX, (match) => {\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || [];\n                if (!format) {\n                    return '';\n                }\n                if (format === preferredFontFormat) {\n                    return `src: ${src};`;\n                }\n            }\n        });\n}\nexport function shouldEmbed(url) {\n    return url.search(URL_REGEX) !== -1;\n}\nexport async function embedResources(cssText, baseUrl, options) {\n    if (!shouldEmbed(cssText)) {\n        return cssText;\n    }\n    const filteredCSSText = filterPreferredFontFormat(cssText, options);\n    const urls = parseURLs(filteredCSSText);\n    return urls.reduce((deferred, url) => deferred.then((css) => embed(css, url, baseUrl, options)), Promise.resolve(filteredCSSText));\n}\n//# sourceMappingURL=embed-resources.js.map","import { embedResources } from './embed-resources';\nimport { toArray, isInstanceOfElement } from './util';\nimport { isDataUrl, resourceToDataURL } from './dataurl';\nimport { getMimeType } from './mimes';\nasync function embedProp(propName, node, options) {\n    var _a;\n    const propValue = (_a = node.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue(propName);\n    if (propValue) {\n        const cssString = await embedResources(propValue, null, options);\n        node.style.setProperty(propName, cssString, node.style.getPropertyPriority(propName));\n        return true;\n    }\n    return false;\n}\nasync function embedBackground(clonedNode, options) {\n    if (!(await embedProp('background', clonedNode, options))) {\n        await embedProp('background-image', clonedNode, options);\n    }\n    if (!(await embedProp('mask', clonedNode, options))) {\n        await embedProp('mask-image', clonedNode, options);\n    }\n}\nasync function embedImageNode(clonedNode, options) {\n    const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement);\n    if (!(isImageElement && !isDataUrl(clonedNode.src)) &&\n        !(isInstanceOfElement(clonedNode, SVGImageElement) &&\n            !isDataUrl(clonedNode.href.baseVal))) {\n        return;\n    }\n    const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal;\n    const dataURL = await resourceToDataURL(url, getMimeType(url), options);\n    await new Promise((resolve, reject) => {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        const image = clonedNode;\n        if (image.decode) {\n            image.decode = resolve;\n        }\n        if (image.loading === 'lazy') {\n            image.loading = 'eager';\n        }\n        if (isImageElement) {\n            clonedNode.srcset = '';\n            clonedNode.src = dataURL;\n        }\n        else {\n            clonedNode.href.baseVal = dataURL;\n        }\n    });\n}\nasync function embedChildren(clonedNode, options) {\n    const children = toArray(clonedNode.childNodes);\n    const deferreds = children.map((child) => embedImages(child, options));\n    await Promise.all(deferreds).then(() => clonedNode);\n}\nexport async function embedImages(clonedNode, options) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        await embedBackground(clonedNode, options);\n        await embedImageNode(clonedNode, options);\n        await embedChildren(clonedNode, options);\n    }\n}\n//# sourceMappingURL=embed-images.js.map","export function applyStyle(node, options) {\n    const { style } = node;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = `${options.width}px`;\n    }\n    if (options.height) {\n        style.height = `${options.height}px`;\n    }\n    const manual = options.style;\n    if (manual != null) {\n        Object.keys(manual).forEach((key) => {\n            style[key] = manual[key];\n        });\n    }\n    return node;\n}\n//# sourceMappingURL=apply-style.js.map","import { toArray } from './util';\nimport { fetchAsDataURL } from './dataurl';\nimport { shouldEmbed, embedResources } from './embed-resources';\nconst cssFetchCache = {};\nasync function fetchCSS(url) {\n    let cache = cssFetchCache[url];\n    if (cache != null) {\n        return cache;\n    }\n    const res = await fetch(url);\n    const cssText = await res.text();\n    cache = { url, cssText };\n    cssFetchCache[url] = cache;\n    return cache;\n}\nasync function embedFonts(data, options) {\n    let cssText = data.cssText;\n    const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n    const fontLocs = cssText.match(/url\\([^)]+\\)/g) || [];\n    const loadFonts = fontLocs.map(async (loc) => {\n        let url = loc.replace(regexUrl, '$1');\n        if (!url.startsWith('https://')) {\n            url = new URL(url, data.url).href;\n        }\n        return fetchAsDataURL(url, options.fetchRequestInit, ({ result }) => {\n            cssText = cssText.replace(loc, `url(${result})`);\n            return [loc, result];\n        });\n    });\n    return Promise.all(loadFonts).then(() => cssText);\n}\nfunction parseCSS(source) {\n    if (source == null) {\n        return [];\n    }\n    const result = [];\n    const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    // strip out comments\n    let cssText = source.replace(commentsRegex, '');\n    // eslint-disable-next-line prefer-regex-literals\n    const keyframesRegex = new RegExp('((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})', 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const matches = keyframesRegex.exec(cssText);\n        if (matches === null) {\n            break;\n        }\n        result.push(matches[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // to match css & media queries together\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n        '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})';\n    // unified regex\n    const unifiedRegex = new RegExp(combinedCSSRegex, 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        let matches = importRegex.exec(cssText);\n        if (matches === null) {\n            matches = unifiedRegex.exec(cssText);\n            if (matches === null) {\n                break;\n            }\n            else {\n                importRegex.lastIndex = unifiedRegex.lastIndex;\n            }\n        }\n        else {\n            unifiedRegex.lastIndex = importRegex.lastIndex;\n        }\n        result.push(matches[0]);\n    }\n    return result;\n}\nasync function getCSSRules(styleSheets, options) {\n    const ret = [];\n    const deferreds = [];\n    // First loop inlines imports\n    styleSheets.forEach((sheet) => {\n        if ('cssRules' in sheet) {\n            try {\n                toArray(sheet.cssRules || []).forEach((item, index) => {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        let importIndex = index + 1;\n                        const url = item.href;\n                        const deferred = fetchCSS(url)\n                            .then((metadata) => embedFonts(metadata, options))\n                            .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                            try {\n                                sheet.insertRule(rule, rule.startsWith('@import')\n                                    ? (importIndex += 1)\n                                    : sheet.cssRules.length);\n                            }\n                            catch (error) {\n                                console.error('Error inserting rule from remote css', {\n                                    rule,\n                                    error,\n                                });\n                            }\n                        }))\n                            .catch((e) => {\n                            console.error('Error loading remote css', e.toString());\n                        });\n                        deferreds.push(deferred);\n                    }\n                });\n            }\n            catch (e) {\n                const inline = styleSheets.find((a) => a.href == null) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    deferreds.push(fetchCSS(sheet.href)\n                        .then((metadata) => embedFonts(metadata, options))\n                        .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                    }))\n                        .catch((err) => {\n                        console.error('Error loading remote stylesheet', err);\n                    }));\n                }\n                console.error('Error inlining remote css file', e);\n            }\n        }\n    });\n    return Promise.all(deferreds).then(() => {\n        // Second loop parses rules\n        styleSheets.forEach((sheet) => {\n            if ('cssRules' in sheet) {\n                try {\n                    toArray(sheet.cssRules || []).forEach((item) => {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.error(`Error while reading CSS rules from ${sheet.href}`, e);\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n        .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')));\n}\nasync function parseWebFontRules(node, options) {\n    if (node.ownerDocument == null) {\n        throw new Error('Provided element is not within a Document');\n    }\n    const styleSheets = toArray(node.ownerDocument.styleSheets);\n    const cssRules = await getCSSRules(styleSheets, options);\n    return getWebFontRules(cssRules);\n}\nexport async function getWebFontCSS(node, options) {\n    const rules = await parseWebFontRules(node, options);\n    const cssTexts = await Promise.all(rules.map((rule) => {\n        const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources(rule.cssText, baseUrl, options);\n    }));\n    return cssTexts.join('\\n');\n}\nexport async function embedWebFonts(clonedNode, options) {\n    const cssText = options.fontEmbedCSS != null\n        ? options.fontEmbedCSS\n        : options.skipFonts\n            ? null\n            : await getWebFontCSS(clonedNode, options);\n    if (cssText) {\n        const styleNode = document.createElement('style');\n        const sytleContent = document.createTextNode(cssText);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n    }\n}\n//# sourceMappingURL=embed-webfonts.js.map","import { cloneNode } from './clone-node';\nimport { embedImages } from './embed-images';\nimport { applyStyle } from './apply-style';\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts';\nimport { getImageSize, getPixelRatio, createImage, canvasToBlob, nodeToDataURL, checkCanvasDimensions, } from './util';\nexport async function toSvg(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const clonedNode = (await cloneNode(node, options, true));\n    await embedWebFonts(clonedNode, options);\n    await embedImages(clonedNode, options);\n    applyStyle(clonedNode, options);\n    const datauri = await nodeToDataURL(clonedNode, width, height);\n    return datauri;\n}\nexport async function toCanvas(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const svg = await toSvg(node, options);\n    const img = await createImage(svg);\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const ratio = options.pixelRatio || getPixelRatio();\n    const canvasWidth = options.canvasWidth || width;\n    const canvasHeight = options.canvasHeight || height;\n    canvas.width = canvasWidth * ratio;\n    canvas.height = canvasHeight * ratio;\n    if (!options.skipAutoScale) {\n        checkCanvasDimensions(canvas);\n    }\n    canvas.style.width = `${canvasWidth}`;\n    canvas.style.height = `${canvasHeight}`;\n    if (options.backgroundColor) {\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n    return canvas;\n}\nexport async function toPixelData(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const canvas = await toCanvas(node, options);\n    const ctx = canvas.getContext('2d');\n    return ctx.getImageData(0, 0, width, height).data;\n}\nexport async function toPng(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL();\n}\nexport async function toJpeg(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL('image/jpeg', options.quality || 1);\n}\nexport async function toBlob(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    const blob = await canvasToBlob(canvas);\n    return blob;\n}\nexport async function getFontEmbedCSS(node, options = {}) {\n    return getWebFontCSS(node, options);\n}\n//# sourceMappingURL=index.js.map","import type { ChartModel } from '@/model/model'\nimport type { Services } from '@/interfaces/services'\n\nexport class Service {\n\tprotected model: ChartModel\n\tprotected services: Services\n\n\tconstructor(model: ChartModel, services: Services) {\n\t\tthis.model = model\n\t\tthis.services = services\n\n\t\tthis.init()\n\t}\n\n\tinit() {\n\t\t// do nothing.\n\t}\n\n\tupdate() {\n\t\t// do nothing.\n\t}\n\n\t// Used to pass down information to the components\n\tsetModel(newObj: ChartModel) {\n\t\tthis.model = newObj\n\t}\n\n\t// Used to pass down services to the components\n\tsetServices(newObj: Services) {\n\t\tthis.services = newObj\n\t}\n}\n","import { select, type Selection } from 'd3'\nimport { toPng, toJpeg } from 'html-to-image'\nimport { debounce } from 'lodash-es'\nimport { getProperty } from '@/tools'\nimport { carbonPrefix } from '@/configuration-non-customizable' // CSS prefix\nimport type { ChartModel } from '@/model/model'\nimport { Service } from '@/services/service'\nimport { Events } from '@/interfaces/enums'\n\nconst CSS_VERIFIER_ELEMENT_CLASSNAME = 'DONT_STYLE_ME_css_styles_verifier'\n\n// Functions like validateAndSetDimensions() may return strings or numbers\nexport interface Dimensions {\n\theight: number\n\twidth: number\n}\n\nexport interface getSVGElementSizeOptions {\n\tuseAttrs?: boolean\n\tuseClientDimensions?: boolean\n\tuseBBox?: boolean\n\tuseBoundingRect?: boolean\n}\n\nexport class DOMUtils extends Service {\n\tprivate chartID!: string // initialized in initializeID() called by init()\n\n\tconstructor(model: ChartModel, services: any) {\n\t\tsuper(model, services)\n\t}\n\n\tstatic getHTMLElementSize(element: HTMLElement) {\n\t\treturn {\n\t\t\twidth: element.clientWidth,\n\t\t\theight: element.clientHeight\n\t\t}\n\t}\n\n\tstatic getSVGElementSize(\n\t\tsvgSelector: Selection<SVGGraphicsElement, any, Element, any>,\n\t\toptions: getSVGElementSizeOptions = {\n\t\t\tuseAttrs: false,\n\t\t\tuseClientDimensions: false,\n\t\t\tuseBBox: false,\n\t\t\tuseBoundingRect: false\n\t\t}\n\t) {\n\t\tif (!svgSelector.attr) {\n\t\t\tsvgSelector = select<SVGGraphicsElement, any>(svgSelector as any) // issue with @types/d3 - select can handle Selection parameters just fine\n\t\t}\n\n\t\tconst finalDimensions = {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t}\n\n\t\t// Dimensions can be width and height as numbers or strings\n\t\tconst validateAndSetDimensions = (dimensions: any) => {\n\t\t\tif (dimensions) {\n\t\t\t\tObject.keys(finalDimensions).forEach((dimensionKey: 'width' | 'height') => {\n\t\t\t\t\tif (dimensions[dimensionKey]) {\n\t\t\t\t\t\tconst dimension = dimensions[dimensionKey]\n\t\t\t\t\t\tconst dimensionNumber = parseFloat(dimension)\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdimension &&\n\t\t\t\t\t\t\tdimensionNumber > finalDimensions[dimensionKey] &&\n\t\t\t\t\t\t\t('' + dimension).indexOf('%') === -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfinalDimensions[dimensionKey] = dimensionNumber\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tconst attrDimensions = {\n\t\t\twidth: svgSelector.attr('width'),\n\t\t\theight: svgSelector.attr('height')\n\t\t}\n\n\t\tconst svgElement = svgSelector.node()\n\n\t\tlet bbox: DOMRect,\n\t\t\tbboxDimensions: Dimensions,\n\t\t\tboundingRect: DOMRect,\n\t\t\tboundingRectDimensions: Dimensions\n\n\t\ttry {\n\t\t\t// Not all SVG graphics elements have bounding boxes (eg <defs>, <title>, <styles>)\n\t\t\tif (typeof svgElement.getBBox === 'function') {\n\t\t\t\tbbox = svgElement.getBBox()\n\t\t\t\tbboxDimensions = {\n\t\t\t\t\twidth: bbox.width,\n\t\t\t\t\theight: bbox.height\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\ttry {\n\t\t\t// Not all SVG graphics elements have...\n\t\t\tif (typeof svgElement?.getBoundingClientRect === 'function') {\n\t\t\t\tboundingRect = svgElement.getBoundingClientRect()\n\t\t\t\tboundingRectDimensions = {\n\t\t\t\t\twidth: boundingRect.width,\n\t\t\t\t\theight: boundingRect.height\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\t// Not all SVG graphics elements have...\n\t\tlet clientDimensions: Dimensions\n\t\tif (svgElement instanceof SVGSVGElement) {\n\t\t\tclientDimensions = {\n\t\t\t\twidth: svgElement.clientWidth,\n\t\t\t\theight: svgElement.clientHeight\n\t\t\t}\n\t\t}\n\n\t\t// If both attribute values are numbers\n\t\t// And not percentages or NaN\n\t\tif (options) {\n\t\t\tif (options.useAttrs) {\n\t\t\t\tvalidateAndSetDimensions(attrDimensions)\n\n\t\t\t\tif (finalDimensions.width > 0 && finalDimensions.height > 0) {\n\t\t\t\t\treturn finalDimensions\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.useClientDimensions) {\n\t\t\t\tvalidateAndSetDimensions(clientDimensions)\n\n\t\t\t\tif (finalDimensions.width > 0 && finalDimensions.height > 0) {\n\t\t\t\t\treturn clientDimensions\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.useBBox) {\n\t\t\t\tvalidateAndSetDimensions(bboxDimensions)\n\n\t\t\t\tif (finalDimensions.width > 0 && finalDimensions.height > 0) {\n\t\t\t\t\treturn bboxDimensions\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.useBoundingRect) {\n\t\t\t\tvalidateAndSetDimensions(boundingRectDimensions)\n\n\t\t\t\tif (finalDimensions.width > 0 && finalDimensions.height > 0) {\n\t\t\t\t\treturn boundingRectDimensions\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst nativeDimensions = {\n\t\t\t\twidth: getProperty(svgSelector.node(), 'width', 'baseVal', 'value'),\n\t\t\t\theight: getProperty(svgSelector.node(), 'height', 'baseVal', 'value')\n\t\t\t}\n\n\t\t\tvalidateAndSetDimensions(nativeDimensions)\n\t\t} catch (e) {\n\t\t\tvalidateAndSetDimensions(clientDimensions)\n\t\t\tvalidateAndSetDimensions(bboxDimensions)\n\t\t\tvalidateAndSetDimensions(attrDimensions)\n\t\t}\n\t\treturn finalDimensions\n\t}\n\n\tstatic appendOrSelect(\n\t\tparent: Selection<SVGElement | HTMLDivElement, any, Element, any>,\n\t\tquery: string\n\t) {\n\t\tconst selection = parent.select(`${query}`)\n\n\t\tif (selection.empty()) {\n\t\t\t// see if there is an id\n\t\t\tlet querySections = query.split('#')\n\t\t\tlet elementToAppend: any\n\t\t\tlet id: string\n\t\t\t// if there is an id\n\t\t\tif (querySections.length === 2) {\n\t\t\t\t// take out the element to append\n\t\t\t\telementToAppend = querySections[0]\n\t\t\t\t// split it by classes\n\t\t\t\tquerySections = querySections[1].split('.')\n\t\t\t\t// the first string is the id\n\t\t\t\tid = querySections[0]\n\t\t\t} else {\n\t\t\t\tquerySections = query.split('.')\n\t\t\t\telementToAppend = querySections[0]\n\t\t\t}\n\n\t\t\treturn parent\n\t\t\t\t.append(elementToAppend)\n\t\t\t\t.attr('id', id)\n\t\t\t\t.attr('class', querySections.slice(1).join(' '))\n\t\t}\n\n\t\treturn selection\n\t}\n\n\tprotected mainContainer: HTMLDivElement\n\tprotected width: string\n\tprotected height: string\n\n\tinit() {\n\t\t// Initialize chart ID\n\t\tthis.initializeID()\n\n\t\t// Add width & height to the chart holder if necessary, and add a classname\n\t\tthis.styleHolderElement()\n\n\t\tthis.addMainContainer()\n\n\t\tif (this.model.getOptions().resizable) {\n\t\t\tthis.addResizeListener()\n\t\t}\n\n\t\tthis.addHolderListeners()\n\n\t\tthis.handleFullscreenChange()\n\t}\n\n\tgetChartID() {\n\t\treturn this.chartID\n\t}\n\n\tgetElementOffset(element: HTMLElement, byViewPort = false) {\n\t\t// get relative position { left, top } based on \"chart holder\" OR \"viewport\"\n\t\tconst elementOffset = { left: 0, top: 0 }\n\t\tconst childRect = element.getBoundingClientRect()\n\t\tconst baseRect = byViewPort ? { left: 0, top: 0 } : this.getHolder().getBoundingClientRect()\n\n\t\ttry {\n\t\t\telementOffset.left = childRect.left - baseRect.left\n\t\t\telementOffset.top = childRect.top - baseRect.top\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\treturn elementOffset\n\t}\n\n\tgenerateElementIDString(originalID: string | number) {\n\t\treturn `chart-${this.chartID}-${originalID}`\n\t}\n\n\tprivate initializeID() {\n\t\tthis.chartID = Math.floor((1 + Math.random()) * 0x1000000000000).toString(16)\n\t}\n\n\taddMainContainer() {\n\t\tconst options = this.model.getOptions()\n\t\tconst chartsprefix = getProperty(options, 'style', 'prefix')\n\n\t\tconst mainContainer = select(this.getHolder())\n\t\t\t.append('div')\n\t\t\t.classed(`${carbonPrefix}--${chartsprefix}--chart-wrapper`, true)\n\t\t\t.attr('id', `chart-${this.getChartID()}`)\n\t\t\t.style('height', '100%')\n\t\t\t.style('width', '100%')\n\n\t\tmainContainer.append('g').attr('class', CSS_VERIFIER_ELEMENT_CLASSNAME)\n\n\t\tthis.mainContainer = mainContainer.node()\n\t}\n\n\tupdate() {\n\t\tthis.styleHolderElement()\n\t}\n\n\tstyleHolderElement() {\n\t\tconst holderElement = this.getHolder() as HTMLElement\n\n\t\t// In order for resize events to not clash with these updates\n\t\t// We'll check if the width & height values passed in options\n\t\t// Have changed, before setting them to the holder\n\t\tconst { width, height, theme } = this.model.getOptions()\n\t\tif (width !== this.width) {\n\t\t\t// Apply formatted width attribute to chart\n\t\t\tholderElement.style.width = width\n\n\t\t\tthis.width = width\n\t\t}\n\n\t\tif (height !== this.height) {\n\t\t\t// Apply formatted width attribute to chart\n\t\t\tholderElement.style.height = height\n\n\t\t\tthis.height = height\n\t\t}\n\n\t\t// Add class to chart holder\n\t\tselect(this.getHolder())\n\t\t\t.classed(`${carbonPrefix}--chart-holder`, true)\n\t\t\t.attr('data-carbon-theme', theme)\n\t}\n\n\tgetHolder() {\n\t\treturn this.model.get('holder')\n\t}\n\n\texportToJPG() {\n\t\tconst self = this\n\t\tconst options = this.model.getOptions()\n\n\t\tconst holder = this.getHolder()\n\t\tconst holderSelection = select(holder)\n\t\tholderSelection.classed('filled', true)\n\n\t\ttoJpeg(this.getMainContainer(), {\n\t\t\tquality: 1,\n\t\t\t// Remove toolbar\n\t\t\tfilter: (node: any) => {\n\t\t\t\tif (node.classList && node.classList.contains('cds--cc--toolbar')) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t}\n\t\t}).then(function (dataUrl: string) {\n\t\t\tlet fileName = 'myChart'\n\t\t\tconst customFilename = getProperty(options, 'fileDownload', 'fileName')\n\n\t\t\tif (typeof customFilename === 'function') {\n\t\t\t\tfileName = customFilename('jpg')\n\t\t\t} else if (typeof customFilename === 'string') {\n\t\t\t\tfileName = customFilename\n\t\t\t}\n\n\t\t\tself.services.files?.downloadImage(dataUrl, `${fileName}.jpg`)\n\n\t\t\tholderSelection.classed('filled', false)\n\t\t})\n\t}\n\n\texportToPNG() {\n\t\tconst self = this\n\t\tconst options = this.model.getOptions()\n\n\t\tconst holder = this.getHolder()\n\t\tconst holderSelection = select(holder)\n\t\tholderSelection.classed('filled', true)\n\n\t\ttoPng(this.getMainContainer(), {\n\t\t\tquality: 1,\n\t\t\t// Remove toolbar\n\t\t\tfilter: (node: HTMLElement) => {\n\t\t\t\tif (node.classList && node.classList.contains('cds--cc--toolbar')) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t}\n\t\t})\n\t\t\t.then(function (dataUrl: string) {\n\t\t\t\tlet fileName = 'myChart'\n\t\t\t\tconst customFilename = getProperty(options, 'fileDownload', 'fileName')\n\n\t\t\t\tif (typeof customFilename === 'function') {\n\t\t\t\t\tfileName = customFilename('png')\n\t\t\t\t} else if (typeof customFilename === 'string') {\n\t\t\t\t\tfileName = customFilename\n\t\t\t\t}\n\n\t\t\t\tself.services.files?.downloadImage(dataUrl, `${fileName}.png`)\n\n\t\t\t\tholderSelection.classed('filled', false)\n\t\t\t})\n\t\t\t.catch(function (error: Error) {\n\t\t\t\tconsole.error('oops, something went wrong!', error)\n\t\t\t})\n\t}\n\n\tisFullScreenMode() {\n\t\treturn select(this.getHolder()).classed('fullscreen')\n\t}\n\n\ttoggleFullscreen() {\n\t\tconst holder = this.getHolder()\n\t\tconst holderSelection = select(holder)\n\n\t\tconst isFullScreen = holderSelection.classed('fullscreen')\n\n\t\tif (\n\t\t\tisFullScreen &&\n\t\t\t(document.fullscreenElement ||\n\t\t\t\tdocument['webkitFullscreenElement'] ||\n\t\t\t\tdocument['mozFullScreenElement'] ||\n\t\t\t\tdocument['msFullscreenElement'])\n\t\t) {\n\t\t\t// Call the correct function depending on the browser\n\t\t\tif (document.exitFullscreen) {\n\t\t\t\tdocument.exitFullscreen()\n\t\t\t} else if (document['webkitExitFullscreen']) {\n\t\t\t\tdocument['webkitExitFullscreen']()\n\t\t\t} else if (document['mozCancelFullScreen']) {\n\t\t\t\tdocument['mozCancelFullScreen']()\n\t\t\t} else if (document['msExitFullscreen']) {\n\t\t\t\tdocument['msExitFullscreen']()\n\t\t\t}\n\t\t} else {\n\t\t\t// Call the correct function depending on the browser\n\t\t\tif (holder.requestFullscreen) {\n\t\t\t\tholder.requestFullscreen()\n\t\t\t} else if (holder.webkitRequestFullscreen) {\n\t\t\t\tholder.webkitRequestFullscreen()\n\t\t\t} else if (holder.mozRequestFullScreen) {\n\t\t\t\tholder.mozRequestFullScreen()\n\t\t\t} else if (holder.msRequestFullscreen) {\n\t\t\t\tholder.msRequestFullscreen()\n\t\t\t}\n\t\t}\n\t}\n\n\thandleFullscreenChange() {\n\t\tdocument.addEventListener('fullscreenchange', () => {\n\t\t\tconst holderSelection = select(this.getHolder())\n\t\t\tconst isFullScreen = holderSelection.classed('fullscreen')\n\n\t\t\t// Toggle the `fullscreen` classname\n\t\t\tholderSelection.classed('fullscreen', !isFullScreen)\n\t\t})\n\t}\n\n\tsetSVGMaxHeight() {\n\t\t// if there is a set height on the holder, leave the chart svg height at 100%\n\t\tif (!this.model.getOptions().height) {\n\t\t\tconst { height: chartHeight } = DOMUtils.getSVGElementSize(\n\t\t\t\tselect(this.mainContainer) as any,\n\t\t\t\t{\n\t\t\t\t\tuseBBox: true\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst chartSVGSelector = select(this.mainContainer).attr('class')\n\t\t\tconst children = select(this.mainContainer).selectAll(`.${chartSVGSelector} > svg`)\n\n\t\t\t// get the height of the children SVGs (spacers, titles, etc)\n\t\t\tlet childrenHeight = 0\n\t\t\tchildren.nodes().forEach(function (childSVG) {\n\t\t\t\tchildrenHeight += Number(\n\t\t\t\t\tDOMUtils.getSVGElementSize(select<SVGGraphicsElement, any>(childSVG as any), {\n\t\t\t\t\t\tuseBBox: true\n\t\t\t\t\t}).height\n\t\t\t\t)\n\t\t\t})\n\n\t\t\t// set the chart svg height to the children height\n\t\t\t// forcing the chart not to take up any more space than it requires\n\t\t\tchildrenHeight <= chartHeight\n\t\t\t\t? select(this.mainContainer).attr('height', childrenHeight)\n\t\t\t\t: select(this.mainContainer).attr('height', '100%')\n\t\t}\n\t}\n\n\tgetMainContainer() {\n\t\treturn this.mainContainer\n\t}\n\n\taddHolderListeners() {\n\t\tconst holder = this.getHolder()\n\n\t\tif (!holder) {\n\t\t\treturn\n\t\t}\n\n\t\tselect(holder)\n\t\t\t.on('mouseover', () => {\n\t\t\t\t// Dispatch event\n\t\t\t\tthis.services.events?.dispatchEvent(Events.Chart.MOUSEOVER)\n\t\t\t})\n\t\t\t.on('mouseout', () => {\n\t\t\t\t// Dispatch event\n\t\t\t\tthis.services.events?.dispatchEvent(Events.Chart.MOUSEOUT)\n\t\t\t})\n\t}\n\n\taddResizeListener() {\n\t\tconst holder = this.getHolder()\n\n\t\tif (!holder) {\n\t\t\treturn\n\t\t}\n\n\t\t// Grab current dimensions of the chart holder\n\t\tlet containerWidth = holder.clientWidth\n\t\tlet containerHeight = holder.clientHeight\n\n\t\t// The resize callback function\n\t\tconst resizeCallback = debounce(() => {\n\t\t\tif (!holder) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tMath.abs(containerWidth - holder.clientWidth) > 1 ||\n\t\t\t\tMath.abs(containerHeight - holder.clientHeight) > 1\n\t\t\t) {\n\t\t\t\tcontainerWidth = holder.clientWidth\n\t\t\t\tcontainerHeight = holder.clientHeight\n\n\t\t\t\tthis.services.events?.dispatchEvent(Events.Chart.RESIZE)\n\t\t\t}\n\t\t}, 12.5)\n\n\t\t// Observe the behaviour of resizing on the holder\n\t\tconst resizeObserver = new ResizeObserver(resizeCallback)\n\t\tresizeObserver.observe(holder)\n\t}\n}\n","import { Service } from '@/services/service'\n\nexport class GradientUtils extends Service {\n\tstatic appendOrUpdateLinearGradient(configs: any) {\n\t\tlet lg = configs.svg.select(`defs linearGradient#${configs.id}`)\n\t\tif (lg.empty()) {\n\t\t\tlg = configs.svg\n\t\t\t\t.append('defs')\n\t\t\t\t.append('linearGradient')\n\t\t\t\t.attr('id', configs.id)\n\t\t\t\t.attr('x1', configs.x1)\n\t\t\t\t.attr('x2', configs.x2)\n\t\t\t\t.attr('y1', configs.y1)\n\t\t\t\t.attr('y2', configs.y2)\n\t\t}\n\n\t\tlg.selectAll('stop').remove()\n\t\tlg.selectAll('stop')\n\t\t\t.data(configs.stops)\n\t\t\t.enter()\n\t\t\t.append('stop')\n\t\t\t.attr('offset', (d: any) => d.offset)\n\t\t\t.style('stop-color', (d: any) => d.color)\n\t\t\t.style('stop-opacity', (d: any) => d.opacity)\n\t}\n\n\tstatic getOffsetRatio(domain: any) {\n\t\tconst offsetRatio =\n\t\t\t((Math.abs(domain[1]) * 100) / Math.abs(domain[0] - domain[1])).toFixed(2) + '%'\n\t\treturn offsetRatio\n\t}\n\n\tstatic getStops(domain: any, color: string) {\n\t\tconst need3Stops = domain[0] < 0 && domain[1] > 0\n\t\tlet stops: object[] = [\n\t\t\t{\n\t\t\t\toffset: '0%',\n\t\t\t\tcolor: color,\n\t\t\t\topacity: '0.6'\n\t\t\t},\n\t\t\t{\n\t\t\t\toffset: '80%',\n\t\t\t\tcolor: color,\n\t\t\t\topacity: '0'\n\t\t\t}\n\t\t]\n\n\t\tif (need3Stops) {\n\t\t\tstops = [\n\t\t\t\t{\n\t\t\t\t\toffset: '0%',\n\t\t\t\t\tcolor: color,\n\t\t\t\t\topacity: '0.6'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toffset: GradientUtils.getOffsetRatio(domain),\n\t\t\t\t\tcolor: color,\n\t\t\t\t\topacity: '0'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toffset: '100%',\n\t\t\t\t\tcolor: color,\n\t\t\t\t\topacity: '0.6'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\treturn stops\n\t}\n}\n","import { TextAnchor, DominantBaseline } from '@/interfaces/enums'\n\nexport interface Point {\n\tx: number\n\ty: number\n}\n\nexport type Angle = number\n\nexport interface LabelAlignment {\n\ttextAnchor: TextAnchor\n\tdominantBaseline: DominantBaseline\n}\n\nexport function radialLabelPlacement(angleRadians: Angle): LabelAlignment {\n\tconst angle = mod(radToDeg(angleRadians), 360)\n\n\tif (isInRange(angle, [0, 10]) || isInRange(angle, [350, 0])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.START,\n\t\t\tdominantBaseline: DominantBaseline.MIDDLE\n\t\t}\n\t} else if (isInRange(angle, [10, 80])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.START,\n\t\t\tdominantBaseline: DominantBaseline.HANGING\n\t\t}\n\t} else if (isInRange(angle, [80, 100])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.MIDDLE,\n\t\t\tdominantBaseline: DominantBaseline.HANGING\n\t\t}\n\t} else if (isInRange(angle, [100, 170])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.END,\n\t\t\tdominantBaseline: DominantBaseline.HANGING\n\t\t}\n\t} else if (isInRange(angle, [170, 190])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.END,\n\t\t\tdominantBaseline: DominantBaseline.MIDDLE\n\t\t}\n\t} else if (isInRange(angle, [190, 260])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.END,\n\t\t\tdominantBaseline: DominantBaseline.BASELINE\n\t\t}\n\t} else if (isInRange(angle, [260, 280])) {\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.MIDDLE,\n\t\t\tdominantBaseline: DominantBaseline.BASELINE\n\t\t}\n\t} else {\n\t\t// 280 - 350\n\t\treturn {\n\t\t\ttextAnchor: TextAnchor.START,\n\t\t\tdominantBaseline: DominantBaseline.BASELINE\n\t\t}\n\t}\n}\n\nfunction mod(n: number, m: number) {\n\treturn ((n % m) + m) % m\n}\n\nfunction isInRange(x: number, [min, max]: [number, number]) {\n\treturn x >= min && x <= max\n}\n\nexport function radToDeg(rad: Angle): Angle {\n\treturn rad * (180 / Math.PI)\n}\n\nexport function degToRad(deg: Angle): Angle {\n\treturn deg * (Math.PI / 180)\n}\n\nexport function polarToCartesianCoords(a: Angle, r: number, t: Point = { x: 0, y: 0 }): Point {\n\tconst x = r * Math.cos(a) + t.x\n\tconst y = r * Math.sin(a) + t.y\n\n\t// NaN is rendered at coordinate 0 in browsers\n\t// By setting it to 0, further operations can be performed\n\treturn { x: isNaN(x) ? 0 : x, y: isNaN(y) ? 0 : y }\n}\n\n// Return the distance between a point (described with polar coordinates)\n// on a circumference and the vertical diameter.\n// If the point is on the left if the diameter, its distance is positive,\n// if it is on the right of the diameter, its distance is negative.\nexport function distanceBetweenPointOnCircAndVerticalDiameter(a: Angle, r: number) {\n\treturn r * Math.sin(a - Math.PI / 2)\n}\n"],"names":["reWhitespace","trimmedEndIndex","string","index","reTrimStart","baseTrim","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","value","isSymbol","isObject","other","isBinary","now","root","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","range","start","stop","step","n","i","select","selector","Selection","band","scale","ordinal","domain","ordinalRange","r0","r1","bandwidth","round","paddingInner","paddingOuter","align","rescale","reverse","values","sequence","_","initRange","nice","interval","i0","i1","x0","x1","t","t0","t1","timeInterval","floori","offseti","count","field","date","d0","d1","previous","test","end","d","millisecond","k","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","timeMinute","utcMinute","timeHour","utcHour","timeDay","utcDay","unixDay","timeWeekday","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","utcMonth","timeYear","utcYear","ticker","year","month","week","day","hour","minute","tickIntervals","ticks","tickInterval","target","bisector","tickStep","timeTicks","timeTickInterval","localDate","utcDate","newDate","y","m","formatLocale","locale","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","newFormat","specifier","j","c","pad","format","pads","newParse","Z","parseSpecifier","parse","f","p","numberRe","percentRe","requoteRe","fill","width","sign","length","requote","s","names","name","dISO","z","dow","UTCdISO","timeFormat","defaultLocale","definition","number","calendar","continuous","invert","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickFormat","copy","timeWeek","timeSecond","abs","atan2","cos","max","min","sin","sqrt","epsilon","pi","halfPi","tau","acos","x","asin","Linear","context","curveLinear","noop","LinearClosed","curveLinearClosed","resolveUrl","url","baseUrl","doc","base","a","uuid","counter","random","toArray","arrayLike","arr","l","px","node","styleProperty","val","getNodeWidth","leftBorder","rightBorder","getNodeHeight","topBorder","bottomBorder","getImageSize","targetNode","height","getPixelRatio","ratio","FINAL_PROCESS","canvasDimensionLimit","checkCanvasDimensions","canvas","createImage","resolve","reject","img","svgToDataURL","svg","html","nodeToDataURL","xmlns","foreignObject","isInstanceOfElement","instance","nodePrototype","formatCSSText","style","content","formatCSSProperties","priority","getPseudoElementStyle","className","pseudo","cssText","clonePseudoElement","nativeNode","clonedNode","styleElement","clonePseudoElements","WOFF","JPEG","mimes","getExtension","match","getMimeType","extension","getContentFromDataUrl","dataURL","isDataUrl","makeDataUrl","mimeType","fetchAsDataURL","init","process","res","blob","reader","error","cache","getCacheKey","contentType","includeQueryParams","key","resourceToDataURL","resourceUrl","cacheKey","msg","cloneCanvasElement","cloneVideoElement","video","ctx","poster","cloneIFrameElement","iframe","_a","cloneNode","cloneSingleNode","isSlotElement","cloneChildren","_b","children","deferred","child","clonedChild","cloneCSSStyle","targetStyle","sourceStyle","cloneInputValue","cloneSelectValue","clonedSelect","selectedOption","decorate","ensureSVGSymbols","clone","uses","processedDefs","id","exist","nodes","ns","defs","isRoot","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","toRegex","escaped","parseURLs","urls","raw","quotation","embed","resourceURL","baseURL","getContentFromUrl","resolvedURL","filterPreferredFontFormat","str","preferredFontFormat","src","shouldEmbed","embedResources","filteredCSSText","css","embedProp","propName","propValue","cssString","embedBackground","embedImageNode","isImageElement","image","embedChildren","deferreds","embedImages","applyStyle","manual","cssFetchCache","fetchCSS","embedFonts","data","regexUrl","loadFonts","loc","parseCSS","source","commentsRegex","keyframesRegex","matches","importRegex","combinedCSSRegex","unifiedRegex","getCSSRules","styleSheets","ret","sheet","item","importIndex","metadata","rule","e","inline","err","getWebFontRules","cssRules","parseWebFontRules","getWebFontCSS","rules","embedWebFonts","styleNode","sytleContent","toSvg","toCanvas","canvasWidth","canvasHeight","toPng","toJpeg","Service","model","services","newObj","CSS_VERIFIER_ELEMENT_CLASSNAME","DOMUtils","element","svgSelector","finalDimensions","validateAndSetDimensions","dimensions","dimensionKey","dimension","dimensionNumber","attrDimensions","svgElement","bbox","bboxDimensions","boundingRect","boundingRectDimensions","clientDimensions","nativeDimensions","getProperty","parent","query","selection","querySections","elementToAppend","byViewPort","elementOffset","childRect","baseRect","originalID","chartsprefix","mainContainer","carbonPrefix","holderElement","theme","self","holder","holderSelection","dataUrl","fileName","customFilename","isFullScreen","chartHeight","chartSVGSelector","childrenHeight","childSVG","Events","containerWidth","containerHeight","resizeCallback","GradientUtils","configs","lg","color","need3Stops","stops","radialLabelPlacement","angleRadians","angle","mod","radToDeg","isInRange","TextAnchor","DominantBaseline","rad","degToRad","deg","polarToCartesianCoords","r","distanceBetweenPointOnCircAndVerticalDiameter"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}